{
  "root": "C:\\Users\\BETEP\\OneDrive\\Рабочий стол\\quantuml7ai_fullstarter",
  "generatedAt": "2026-02-09T13:27:38.605Z",
  "report": [
    {
      "file": "C:\\Users\\BETEP\\OneDrive\\Рабочий стол\\quantuml7ai_fullstarter\\app\\forum\\Forum.jsx",
      "counts": {
        "setInterval": 16,
        "clearInterval": 19,
        "setTimeout": 45,
        "requestAnimationFrame": 21,
        "cancelAnimationFrame": 7,
        "getBoundingClientRect": 25,
        "querySelectorAll": 17,
        "addEventListener": 66,
        "removeEventListener": 66,
        "<video": 13,
        "<audio": 5,
        "<img": 14,
        "autoplay": 8,
        "loop": 8,
        "preload": 13,
        "loading=lazy": 15,
        "createObjectURL": 4,
        "revokeObjectURL": 10,
        "onScroll": 4,
        "touchmove": 5,
        "wheel": 3
      },
      "flags": [
        "⚠ много getBoundingClientRect (дорого, особенно в scroll/raf)",
        "⚠ autoplay видео (может грузить/GPU/память)"
      ],
      "hits": [
        {
          "key": "setInterval",
          "line": 1558,
          "text": "const id = setInterval(async function(){",
          "why": "Может плодиться/не чиститься → утечки/нагрузка"
        },
        {
          "key": "setInterval",
          "line": 11410,
          "text": "const id=setInterval(upd,3000)",
          "why": "Может плодиться/не чиститься → утечки/нагрузка"
        },
        {
          "key": "setInterval",
          "line": 11864,
          "text": "const id = setInterval(() => {",
          "why": "Может плодиться/не чиститься → утечки/нагрузка"
        },
        {
          "key": "setInterval",
          "line": 12178,
          "text": "// Вместо setInterval(querySelectorAll...) — MutationObserver на новые медиа-узлы",
          "why": "Может плодиться/не чиститься → утечки/нагрузка"
        },
        {
          "key": "setInterval",
          "line": 12770,
          "text": "const id = setInterval(()=>{ if (visibleRef.current) activeRef.current = true }, 20000);",
          "why": "Может плодиться/не чиститься → утечки/нагрузка"
        },
        {
          "key": "setInterval",
          "line": 13047,
          "text": "const id = setInterval(runTick, TICK_MS);",
          "why": "Может плодиться/не чиститься → утечки/нагрузка"
        },
        {
          "key": "setInterval",
          "line": 13814,
          "text": "const t = setInterval(attach, 700);",
          "why": "Может плодиться/не чиститься → утечки/нагрузка"
        },
        {
          "key": "setInterval",
          "line": 14580,
          "text": "const t = setInterval(() => {",
          "why": "Может плодиться/не чиститься → утечки/нагрузка"
        },
        {
          "key": "setInterval",
          "line": 14591,
          "text": "const t = setInterval(() => {",
          "why": "Может плодиться/не чиститься → утечки/нагрузка"
        },
        {
          "key": "setInterval",
          "line": 15304,
          "text": "const id = setInterval(() => setCooldownLeft(s => Math.max(0, s - 1)), 1000);",
          "why": "Может плодиться/не чиститься → утечки/нагрузка"
        },
        {
          "key": "setInterval",
          "line": 15425,
          "text": "mediaProgRef.current.timer = setInterval(() => {",
          "why": "Может плодиться/не чиститься → утечки/нагрузка"
        },
        {
          "key": "setInterval",
          "line": 15560,
          "text": "recTimerRef.current = setInterval(() => {",
          "why": "Может плодиться/не чиститься → утечки/нагрузка"
        },
        {
          "key": "setInterval",
          "line": 15793,
          "text": "videoTimerRef.current = setInterval(() => {",
          "why": "Может плодиться/не чиститься → утечки/нагрузка"
        },
        {
          "key": "setInterval",
          "line": 16873,
          "text": "const tick = setInterval(observeAll, 900);",
          "why": "Может плодиться/не чиститься → утечки/нагрузка"
        },
        {
          "key": "setInterval",
          "line": 18221,
          "text": "tInterval = setInterval(() => {",
          "why": "Может плодиться/не чиститься → утечки/нагрузка"
        },
        {
          "key": "setInterval",
          "line": 21478,
          "text": "const id = setInterval(() => __setQuestTick(x => (x + 1) & 1023), 1000);",
          "why": "Может плодиться/не чиститься → утечки/нагрузка"
        },
        {
          "key": "clearInterval",
          "line": 1644,
          "text": "return function(){ clearInterval(id); };",
          "why": "Проверяем парность с setInterval"
        },
        {
          "key": "clearInterval",
          "line": 11411,
          "text": "return ()=>{ window.removeEventListener('auth:ok',upd); window.removeEventListener('auth:success',upd); clearInterval(id) }",
          "why": "Проверяем парность с setInterval"
        },
        {
          "key": "clearInterval",
          "line": 11859,
          "text": "if (id) clearInterval(id);",
          "why": "Проверяем парность с setInterval"
        },
        {
          "key": "clearInterval",
          "line": 12231,
          "text": "ytMutePolls.forEach((id) => clearInterval(id));",
          "why": "Проверяем парность с setInterval"
        },
        {
          "key": "clearInterval",
          "line": 12771,
          "text": "return ()=> clearInterval(id);",
          "why": "Проверяем парность с setInterval"
        },
        {
          "key": "clearInterval",
          "line": 13051,
          "text": "clearInterval(id);",
          "why": "Проверяем парность с setInterval"
        },
        {
          "key": "clearInterval",
          "line": 13817,
          "text": "try { clearInterval(t); } catch {}",
          "why": "Проверяем парность с setInterval"
        },
        {
          "key": "clearInterval",
          "line": 14584,
          "text": "return () => { try { clearInterval(t); } catch {} };",
          "why": "Проверяем парность с setInterval"
        },
        {
          "key": "clearInterval",
          "line": 14598,
          "text": "return () => { try { clearInterval(t); } catch {} };",
          "why": "Проверяем парность с setInterval"
        },
        {
          "key": "clearInterval",
          "line": 15305,
          "text": "return () => clearInterval(id);",
          "why": "Проверяем парность с setInterval"
        },
        {
          "key": "clearInterval",
          "line": 15407,
          "text": "if (t) { try { clearInterval(t); } catch {} }",
          "why": "Проверяем парность с setInterval"
        },
        {
          "key": "clearInterval",
          "line": 15559,
          "text": "clearInterval(recTimerRef.current);",
          "why": "Проверяем парность с setInterval"
        },
        {
          "key": "clearInterval",
          "line": 15575,
          "text": "clearInterval(recTimerRef.current);",
          "why": "Проверяем парность с setInterval"
        },
        {
          "key": "clearInterval",
          "line": 15750,
          "text": "clearInterval(videoTimerRef.current); videoTimerRef.current = null;",
          "why": "Проверяем парность с setInterval"
        },
        {
          "key": "clearInterval",
          "line": 15792,
          "text": "clearInterval(videoTimerRef.current);",
          "why": "Проверяем парность с setInterval"
        },
        {
          "key": "clearInterval",
          "line": 15813,
          "text": "videoMirrorRef.current = null;  clearInterval(videoTimerRef.current); videoTimerRef.current = null;",
          "why": "Проверяем парность с setInterval"
        },
        {
          "key": "clearInterval",
          "line": 16876,
          "text": "clearInterval(tick);",
          "why": "Проверяем парность с setInterval"
        },
        {
          "key": "clearInterval",
          "line": 18230,
          "text": "if (tInterval) clearInterval(tInterval);",
          "why": "Проверяем парность с setInterval"
        },
        {
          "key": "clearInterval",
          "line": 21479,
          "text": "return () => clearInterval(id);",
          "why": "Проверяем парность с setInterval"
        },
        {
          "key": "setTimeout",
          "line": 444,
          "text": "const timer = setTimeout(() => cancel(), timeoutMs);",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 843,
          "text": "const id = setTimeout(() => set(null), 6500);",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 1349,
          "text": "return setTimeout(fn, 120);",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 1468,
          "text": "const timeoutId  = setTimeout(() => controller.abort(), 8000);",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 1590,
          "text": "const timeoutId  = setTimeout(() => controller.abort(), 8000);",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 7198,
          "text": "timerRef.current = setTimeout(() => {",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 8085,
          "text": "const h = setTimeout(async () => {",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 9139,
          "text": "window.setTimeout(() => node.classList.remove('replyTargetFlash'), 1100);",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 10126,
          "text": "await new Promise(r => setTimeout(r, 30));",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 10145,
          "text": "setTimeout(calcAspectFromTrack, 0);",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 10192,
          "text": "setTimeout(calcAspectFromTrack, 0);",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 10681,
          "text": "hideTimerRef.current = setTimeout(() => {",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 11686,
          "text": "return setTimeout(fn, 120);",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 11835,
          "text": "else setTimeout(check, 60);",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 11999,
          "text": "const id = setTimeout(() => {",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 13556,
          "text": "try { requestAnimationFrame(() => requestAnimationFrame(applyComp)); } catch { try { setTimeout(applyComp, 0); } catch {} }",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 13909,
          "text": "setTimeout(() => { try { alignInboxStartUnderTabs(); } catch {} }, 0);",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 14515,
          "text": "dmDialogsPersistTimerRef.current = setTimeout(() => {",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 14535,
          "text": "dmThreadPersistTimerRef.current = setTimeout(() => {",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 14702,
          "text": "setTimeout(() => { try { alignInboxStartUnderTabs(); } catch {} }, 0);",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 14954,
          "text": "try { requestAnimationFrame(tick); } catch { try { setTimeout(tick, 16); } catch {} }",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 14957,
          "text": "try { requestAnimationFrame(tick); } catch { try { setTimeout(tick, 0); } catch {} }",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 14985,
          "text": "setTimeout(() => {",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 15620,
          "text": "setTimeout(resolve, 400);",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 16060,
          "text": "setTimeout(done, 1200); // fallback",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 16115,
          "text": "setTimeout(() => resolve(false), 900);",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 16783,
          "text": "rec.t = setTimeout(() => {",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 17432,
          "text": "try { setTimeout(() => document.querySelector('[data-forum-video-start=\"1\"]')?.scrollIntoView({ behavior:'auto', block:'start' }), 0); } catch {}",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 17459,
          "text": "setTimeout(() => { try { alignInboxStartUnderTabs(); } catch {} }, 0);",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 17486,
          "text": "setTimeout(() => { try { alignInboxStartUnderTabs(); } catch {} }, 0);",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 17510,
          "text": "setTimeout(() => {",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 17631,
          "text": "try { requestAnimationFrame(() => requestAnimationFrame(apply)); } catch { try { setTimeout(apply, 0); } catch {} }",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 17756,
          "text": "setTimeout(() => {",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 17764,
          "text": "setTimeout(() => {",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 18218,
          "text": "tAlign = setTimeout(() => {",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 18647,
          "text": "setTimeout(() => {",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 19043,
          "text": "await new Promise(r => setTimeout(r, 2000));",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 19178,
          "text": "setTimeout(() => { try { window.__forumToggleCreateTopic?.() } catch {} }, 0)",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 19242,
          "text": "setTimeout(()=>document.querySelector('[data-forum-topics-start=\"1\"]')?.scrollIntoView({block:'start'}),0);",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 20152,
          "text": "setTimeout(() => {",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 20549,
          "text": "await new Promise(r => setTimeout(r, 2000));",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 20685,
          "text": "setTimeout(() => { try { window.__forumToggleCreateTopic?.() } catch {} }, 0)",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 20749,
          "text": "setTimeout(()=>document.querySelector('[data-forum-topics-start=\"1\"]')?.scrollIntoView({block:'start'}),0);",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 21818,
          "text": "onClick={() => { setTimeout(() => onMarkDone?.(q.id, tid), 0); }}",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 21826,
          "text": "onClick={() => { setTimeout(() => onMarkDone?.(q.id, tid), 0); }}",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "requestAnimationFrame",
          "line": 7403,
          "text": "rafRef.current = window.requestAnimationFrame(() => {",
          "why": "RAF-циклы часто грузят main-thread"
        },
        {
          "key": "requestAnimationFrame",
          "line": 7752,
          "text": "rafRef.current = requestAnimationFrame(() => {",
          "why": "RAF-циклы часто грузят main-thread"
        },
        {
          "key": "requestAnimationFrame",
          "line": 9155,
          "text": "requestAnimationFrame(() => {",
          "why": "RAF-циклы часто грузят main-thread"
        },
        {
          "key": "requestAnimationFrame",
          "line": 9156,
          "text": "requestAnimationFrame(() => {",
          "why": "RAF-циклы часто грузят main-thread"
        },
        {
          "key": "requestAnimationFrame",
          "line": 10617,
          "text": "requestAnimationFrame(() => {",
          "why": "RAF-циклы часто грузят main-thread"
        },
        {
          "key": "requestAnimationFrame",
          "line": 10621,
          "text": "requestAnimationFrame(() => {",
          "why": "RAF-циклы часто грузят main-thread"
        },
        {
          "key": "requestAnimationFrame",
          "line": 10950,
          "text": "rafRef.current = requestAnimationFrame(tick);",
          "why": "RAF-циклы часто грузят main-thread"
        },
        {
          "key": "requestAnimationFrame",
          "line": 10952,
          "text": "rafRef.current = requestAnimationFrame(tick);",
          "why": "RAF-циклы часто грузят main-thread"
        },
        {
          "key": "requestAnimationFrame",
          "line": 12111,
          "text": "rafId = requestAnimationFrame(() => {",
          "why": "RAF-циклы часто грузят main-thread"
        },
        {
          "key": "requestAnimationFrame",
          "line": 12356,
          "text": "requestAnimationFrame(() => {",
          "why": "RAF-циклы часто грузят main-thread"
        },
        {
          "key": "requestAnimationFrame",
          "line": 13508,
          "text": "raf = window.requestAnimationFrame(() => {",
          "why": "RAF-циклы часто грузят main-thread"
        },
        {
          "key": "requestAnimationFrame",
          "line": 13556,
          "text": "try { requestAnimationFrame(() => requestAnimationFrame(applyComp)); } catch { try { setTimeout(applyComp, 0); } catch {} }",
          "why": "RAF-циклы часто грузят main-thread"
        },
        {
          "key": "requestAnimationFrame",
          "line": 14954,
          "text": "try { requestAnimationFrame(tick); } catch { try { setTimeout(tick, 16); } catch {} }",
          "why": "RAF-циклы часто грузят main-thread"
        },
        {
          "key": "requestAnimationFrame",
          "line": 14957,
          "text": "try { requestAnimationFrame(tick); } catch { try { setTimeout(tick, 0); } catch {} }",
          "why": "RAF-циклы часто грузят main-thread"
        },
        {
          "key": "requestAnimationFrame",
          "line": 15292,
          "text": "requestAnimationFrame(() => requestAnimationFrame(apply));",
          "why": "RAF-циклы часто грузят main-thread"
        },
        {
          "key": "requestAnimationFrame",
          "line": 15651,
          "text": "rafId = requestAnimationFrame(loop);",
          "why": "RAF-циклы часто грузят main-thread"
        },
        {
          "key": "requestAnimationFrame",
          "line": 17554,
          "text": "try { requestAnimationFrame(() => alignInboxStartUnderTabs(attempt + 1)); } catch {}",
          "why": "RAF-циклы часто грузят main-thread"
        },
        {
          "key": "requestAnimationFrame",
          "line": 17569,
          "text": "try { requestAnimationFrame(() => alignInboxStartUnderTabs(attempt + 1)); } catch {}",
          "why": "RAF-циклы часто грузят main-thread"
        },
        {
          "key": "requestAnimationFrame",
          "line": 17631,
          "text": "try { requestAnimationFrame(() => requestAnimationFrame(apply)); } catch { try { setTimeout(apply, 0); } catch {} }",
          "why": "RAF-циклы часто грузят main-thread"
        },
        {
          "key": "requestAnimationFrame",
          "line": 18189,
          "text": "requestAnimationFrame(() => {",
          "why": "RAF-циклы часто грузят main-thread"
        },
        {
          "key": "requestAnimationFrame",
          "line": 18361,
          "text": "rafGuardRef.current = window.requestAnimationFrame(() => {",
          "why": "RAF-циклы часто грузят main-thread"
        },
        {
          "key": "cancelAnimationFrame",
          "line": 7423,
          "text": "cancelAnimationFrame(rafRef.current)",
          "why": "Проверяем парность с RAF"
        },
        {
          "key": "cancelAnimationFrame",
          "line": 7750,
          "text": "if (rafRef.current) cancelAnimationFrame(rafRef.current);",
          "why": "Проверяем парность с RAF"
        },
        {
          "key": "cancelAnimationFrame",
          "line": 10938,
          "text": "if (rafRef.current) cancelAnimationFrame(rafRef.current);",
          "why": "Проверяем парность с RAF"
        },
        {
          "key": "cancelAnimationFrame",
          "line": 12196,
          "text": "try { if (rafId) cancelAnimationFrame(rafId); } catch {}",
          "why": "Проверяем парность с RAF"
        },
        {
          "key": "cancelAnimationFrame",
          "line": 13577,
          "text": "if (raf) { try { window.cancelAnimationFrame(raf) } catch {} raf = 0; }",
          "why": "Проверяем парность с RAF"
        },
        {
          "key": "cancelAnimationFrame",
          "line": 15658,
          "text": "try { if (rafId) cancelAnimationFrame(rafId); } catch {}",
          "why": "Проверяем парность с RAF"
        },
        {
          "key": "cancelAnimationFrame",
          "line": 15666,
          "text": "try { if (rafId) cancelAnimationFrame(rafId); } catch {}",
          "why": "Проверяем парность с RAF"
        },
        {
          "key": "getBoundingClientRect",
          "line": 37,
          "text": "try { lastHRef.current = el.getBoundingClientRect().height || 0; } catch {}",
          "why": "Очень дорого в скролле/таче/raf"
        },
        {
          "key": "getBoundingClientRect",
          "line": 44,
          "text": "try { h = node.getBoundingClientRect().height || 0; } catch { h = 0; }",
          "why": "Очень дорого в скролле/таче/raf"
        },
        {
          "key": "getBoundingClientRect",
          "line": 6670,
          "text": "const rect = el.getBoundingClientRect()",
          "why": "Очень дорого в скролле/таче/raf"
        },
        {
          "key": "getBoundingClientRect",
          "line": 6771,
          "text": "const r = btn.getBoundingClientRect();",
          "why": "Очень дорого в скролле/таче/raf"
        },
        {
          "key": "getBoundingClientRect",
          "line": 6872,
          "text": "const r = btn.getBoundingClientRect();",
          "why": "Очень дорого в скролле/таче/raf"
        },
        {
          "key": "getBoundingClientRect",
          "line": 6934,
          "text": "const r = btn.getBoundingClientRect();",
          "why": "Очень дорого в скролле/таче/raf"
        },
        {
          "key": "getBoundingClientRect",
          "line": 7361,
          "text": "const rect = anchorEl.getBoundingClientRect()",
          "why": "Очень дорого в скролле/таче/raf"
        },
        {
          "key": "getBoundingClientRect",
          "line": 7362,
          "text": "const popRect = popEl.getBoundingClientRect()",
          "why": "Очень дорого в скролле/таче/raf"
        },
        {
          "key": "getBoundingClientRect",
          "line": 7840,
          "text": "const r = el.getBoundingClientRect();",
          "why": "Очень дорого в скролле/таче/raf"
        },
        {
          "key": "getBoundingClientRect",
          "line": 8127,
          "text": "const rect = el.getBoundingClientRect();",
          "why": "Очень дорого в скролле/таче/raf"
        },
        {
          "key": "getBoundingClientRect",
          "line": 11022,
          "text": "const rect = el.getBoundingClientRect();",
          "why": "Очень дорого в скролле/таче/raf"
        },
        {
          "key": "getBoundingClientRect",
          "line": 11470,
          "text": "const rect = anchorEl.getBoundingClientRect()",
          "why": "Очень дорого в скролле/таче/raf"
        },
        {
          "key": "getBoundingClientRect",
          "line": 13656,
          "text": "const contRect = scrollEl.getBoundingClientRect();",
          "why": "Очень дорого в скролле/таче/raf"
        },
        {
          "key": "getBoundingClientRect",
          "line": 13661,
          "text": "const r = cards[i].getBoundingClientRect();",
          "why": "Очень дорого в скролле/таче/raf"
        },
        {
          "key": "getBoundingClientRect",
          "line": 13673,
          "text": "const contRect = scrollEl.getBoundingClientRect();",
          "why": "Очень дорого в скролле/таче/raf"
        },
        {
          "key": "getBoundingClientRect",
          "line": 13674,
          "text": "const r = card.getBoundingClientRect();",
          "why": "Очень дорого в скролле/таче/raf"
        },
        {
          "key": "getBoundingClientRect",
          "line": 14927,
          "text": "const contRect = scrollEl.getBoundingClientRect();",
          "why": "Очень дорого в скролле/таче/raf"
        },
        {
          "key": "getBoundingClientRect",
          "line": 14928,
          "text": "const r = node.getBoundingClientRect();",
          "why": "Очень дорого в скролле/таче/raf"
        },
        {
          "key": "getBoundingClientRect",
          "line": 17574,
          "text": "const tabsRect = tabs.getBoundingClientRect();",
          "why": "Очень дорого в скролле/таче/raf"
        },
        {
          "key": "getBoundingClientRect",
          "line": 17575,
          "text": "const firstRect = first.getBoundingClientRect();",
          "why": "Очень дорого в скролле/таче/raf"
        },
        {
          "key": "getBoundingClientRect",
          "line": 17607,
          "text": "const rect = el.getBoundingClientRect();",
          "why": "Очень дорого в скролле/таче/raf"
        },
        {
          "key": "getBoundingClientRect",
          "line": 17649,
          "text": "const rect = el.getBoundingClientRect();",
          "why": "Очень дорого в скролле/таче/raf"
        },
        {
          "key": "getBoundingClientRect",
          "line": 17650,
          "text": "const contRect = scrollEl.getBoundingClientRect();",
          "why": "Очень дорого в скролле/таче/raf"
        },
        {
          "key": "getBoundingClientRect",
          "line": 17660,
          "text": "const rect = el.getBoundingClientRect();",
          "why": "Очень дорого в скролле/таче/raf"
        },
        {
          "key": "getBoundingClientRect",
          "line": 18364,
          "text": "const rect = el.getBoundingClientRect();",
          "why": "Очень дорого в скролле/таче/raf"
        },
        {
          "key": "querySelectorAll",
          "line": 1395,
          "text": "const list = Array.from(document.querySelectorAll(selector));",
          "why": "Может быть дорого/часто вызываться"
        },
        {
          "key": "querySelectorAll",
          "line": 11594,
          "text": "document.querySelectorAll('iframe[data-forum-media]').forEach((frame) => {",
          "why": "Может быть дорого/часто вызываться"
        },
        {
          "key": "querySelectorAll",
          "line": 11617,
          "text": "document.querySelectorAll('video').forEach((v) => {",
          "why": "Может быть дорого/часто вызываться"
        },
        {
          "key": "querySelectorAll",
          "line": 11623,
          "text": "document.querySelectorAll('audio').forEach((a) => {",
          "why": "Может быть дорого/часто вызываться"
        },
        {
          "key": "querySelectorAll",
          "line": 11640,
          "text": "document.querySelectorAll('video').forEach((v) => {",
          "why": "Может быть дорого/часто вызываться"
        },
        {
          "key": "querySelectorAll",
          "line": 11646,
          "text": "document.querySelectorAll('audio').forEach((a) => {",
          "why": "Может быть дорого/часто вызываться"
        },
        {
          "key": "querySelectorAll",
          "line": 11723,
          "text": "document.querySelectorAll(selector).forEach(prepare);",
          "why": "Может быть дорого/часто вызываться"
        },
        {
          "key": "querySelectorAll",
          "line": 11745,
          "text": "document.querySelectorAll(selector).forEach((v) => io.observe(v));",
          "why": "Может быть дорого/часто вызываться"
        },
        {
          "key": "querySelectorAll",
          "line": 11778,
          "text": "document.querySelectorAll('[data-forum-media]').forEach((el) => {",
          "why": "Может быть дорого/часто вызываться"
        },
        {
          "key": "querySelectorAll",
          "line": 12173,
          "text": "try { document.querySelectorAll(selector).forEach(observeOne); } catch {}",
          "why": "Может быть дорого/часто вызываться"
        },
        {
          "key": "querySelectorAll",
          "line": 12211,
          "text": "document.querySelectorAll(selector).forEach((el) => {",
          "why": "Может быть дорого/часто вызываться"
        },
        {
          "key": "querySelectorAll",
          "line": 14132,
          "text": "const nodes = document.querySelectorAll('.inboxReplyItem[data-reply-id]');",
          "why": "Может быть дорого/часто вызываться"
        },
        {
          "key": "querySelectorAll",
          "line": 14635,
          "text": "const nodes = document.querySelectorAll('.dmMsgRow[data-dm-ts]');",
          "why": "Может быть дорого/часто вызываться"
        },
        {
          "key": "querySelectorAll",
          "line": 14661,
          "text": "const nodes = document.querySelectorAll('.dmRow[data-dm-uid]');",
          "why": "Может быть дорого/часто вызываться"
        },
        {
          "key": "querySelectorAll",
          "line": 16794,
          "text": "const cards = Array.from(document.querySelectorAll(CARD_SELECTOR));",
          "why": "Может быть дорого/часто вызываться"
        },
        {
          "key": "querySelectorAll",
          "line": 16804,
          "text": ".querySelectorAll('video[data-forum-video=\"post\"]')",
          "why": "Может быть дорого/часто вызываться"
        },
        {
          "key": "querySelectorAll",
          "line": 16866,
          "text": "document.querySelectorAll(CARD_SELECTOR).forEach((el) => io.observe(el));",
          "why": "Может быть дорого/часто вызываться"
        },
        {
          "key": "addEventListener",
          "line": 439,
          "text": "window.addEventListener('auth:ok', ok, { once: true });",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 440,
          "text": "window.addEventListener('auth:success', ok, { once: true });",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 441,
          "text": "window.addEventListener('auth:cancel', cancel, { once: true });",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 442,
          "text": "window.addEventListener('auth:fail', cancel, { once: true });",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 1424,
          "text": "document.addEventListener('play', onPlay, true);",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 1425,
          "text": "document.addEventListener('pause', onStop, true);",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 1426,
          "text": "document.addEventListener('ended', onStop, true);",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 1533,
          "text": "root.addEventListener(e, onAny, {passive:true});",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 1535,
          "text": "document.addEventListener('visibilitychange', onVis);",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 1536,
          "text": "window.addEventListener('focus', onAny);",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 6956,
          "text": "document.addEventListener('keydown', onKey);",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 6957,
          "text": "document.addEventListener('pointerdown', onClick);",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 7417,
          "text": "window.addEventListener('scroll', onScroll, true)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 7418,
          "text": "window.addEventListener('resize', onScroll, true)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 7441,
          "text": "document.addEventListener('pointerdown', onDown, true)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 7442,
          "text": "document.addEventListener('keydown', onKey, true)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 7863,
          "text": "window.addEventListener('resize', applySize, { passive: true });",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 8511,
          "text": "window.addEventListener('keydown', onKey);",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 8601,
          "text": "window.addEventListener('keydown', onKey);",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 10012,
          "text": "v.addEventListener('play', onPlay);",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 10013,
          "text": "v.addEventListener('pause', onPause);",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 10014,
          "text": "v.addEventListener('ended', onEnd);",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 10601,
          "text": "window.addEventListener('wheel', prevent, { passive: false });",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 10602,
          "text": "window.addEventListener('touchmove', prevent, { passive: false });",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 10702,
          "text": "audio.addEventListener('loadedmetadata', onMeta);",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 10703,
          "text": "audio.addEventListener('durationchange', onMeta);",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 10704,
          "text": "audio.addEventListener('timeupdate', onTime);",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 10705,
          "text": "audio.addEventListener('play', onPlay);",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 10706,
          "text": "audio.addEventListener('pause', onPause);",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 10707,
          "text": "audio.addEventListener('volumechange', onVolume);",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 10718,
          "text": "window.addEventListener(MEDIA_MUTED_EVENT, onMutedEvent);",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 10976,
          "text": "a.addEventListener('loadedmetadata', onLoaded);",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 10977,
          "text": "a.addEventListener('play', onPlay);",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 10978,
          "text": "a.addEventListener('pause', onPause);",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 10979,
          "text": "a.addEventListener('ended', onEnded);",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 11408,
          "text": "window.addEventListener('auth:ok',upd)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 11409,
          "text": "window.addEventListener('auth:success',upd)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 11502,
          "text": "document.addEventListener('pointerdown', onDown, true)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 11503,
          "text": "document.addEventListener('keydown', onKey, true)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 11504,
          "text": "window.addEventListener('scroll', onScroll, true)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 11505,
          "text": "window.addEventListener('resize', onScroll, true)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 11666,
          "text": "document.addEventListener('play', handlePlay, true);",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 11667,
          "text": "window.addEventListener('site-media-play', onSiteMediaPlay);",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 11819,
          "text": "el.addEventListener('volumechange', h, { passive: true });",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 12192,
          "text": "window.addEventListener(MEDIA_MUTED_EVENT, onMutedEvent);",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 12325,
          "text": "window.addEventListener('qcoin:open', open)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 12333,
          "text": "window.addEventListener('vip:open', openVip)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 12384,
          "text": "window.addEventListener('forum:edit', onEdit);",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 12750,
          "text": "['click','keydown'].forEach(e => el.addEventListener(e, mark, { passive:true }));",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 12758,
          "text": "document.addEventListener('visibilitychange', upd);",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 12759,
          "text": "window.addEventListener('focus', upd);",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 12760,
          "text": "window.addEventListener('blur',  upd);",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 13189,
          "text": "window.addEventListener('storage', onStorage)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 13225,
          "text": "window.addEventListener('storage', onStorage);",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 13569,
          "text": "window.addEventListener('scroll', onScroll, opts);",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 13806,
          "text": "try { scrollEl.addEventListener('touchstart', onTouchStart, optsTouch); } catch {}",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 13807,
          "text": "try { scrollEl.addEventListener('touchmove', onTouchMove, optsTouch); } catch {}",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 13808,
          "text": "try { scrollEl.addEventListener('touchend', onTouchEnd, optsTouch); } catch {}",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 14704,
          "text": "window.addEventListener('forum:head-hide-once', onHeadHideOnce);",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 14705,
          "text": "window.addEventListener('inbox:open-dm', onOpenDm);",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 15322,
          "text": "document.addEventListener('pointerdown', onDown, true);",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 15333,
          "text": "sendBtn.addEventListener('click', onClick);",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 15619,
          "text": "video.addEventListener('loadedmetadata', onMeta);",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 16059,
          "text": "video.addEventListener('loadedmetadata', done, { once: true });",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 16113,
          "text": "video.addEventListener('seeked', onSeeked, { once: true });",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 18346,
          "text": "window.addEventListener('scroll', onScroll, { passive: true });",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "removeEventListener",
          "line": 432,
          "text": "window.removeEventListener('auth:ok', ok);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 433,
          "text": "window.removeEventListener('auth:success', ok);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 434,
          "text": "window.removeEventListener('auth:cancel', cancel);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 435,
          "text": "window.removeEventListener('auth:fail', cancel);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 1429,
          "text": "document.removeEventListener('play', onPlay, true);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 1430,
          "text": "document.removeEventListener('pause', onStop, true);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 1431,
          "text": "document.removeEventListener('ended', onStop, true);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 1540,
          "text": "root.removeEventListener(e, onAny);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 1542,
          "text": "document.removeEventListener('visibilitychange', onVis);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 1543,
          "text": "window.removeEventListener('focus', onAny);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 6959,
          "text": "document.removeEventListener('keydown', onKey);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 6960,
          "text": "document.removeEventListener('pointerdown', onClick);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 7420,
          "text": "window.removeEventListener('scroll', onScroll, true)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 7421,
          "text": "window.removeEventListener('resize', onScroll, true)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 7444,
          "text": "document.removeEventListener('pointerdown', onDown, true)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 7445,
          "text": "document.removeEventListener('keydown', onKey, true)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 7866,
          "text": "window.removeEventListener('resize', applySize);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 8512,
          "text": "return () => window.removeEventListener('keydown', onKey);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 8602,
          "text": "return () => window.removeEventListener('keydown', onKey);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 10016,
          "text": "v.removeEventListener('play', onPlay);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 10017,
          "text": "v.removeEventListener('pause', onPause);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 10018,
          "text": "v.removeEventListener('ended', onEnd);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 10605,
          "text": "window.removeEventListener('wheel', prevent);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 10606,
          "text": "window.removeEventListener('touchmove', prevent);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 10721,
          "text": "audio.removeEventListener('loadedmetadata', onMeta);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 10722,
          "text": "audio.removeEventListener('durationchange', onMeta);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 10723,
          "text": "audio.removeEventListener('timeupdate', onTime);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 10724,
          "text": "audio.removeEventListener('play', onPlay);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 10725,
          "text": "audio.removeEventListener('pause', onPause);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 10726,
          "text": "audio.removeEventListener('volumechange', onVolume);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 10727,
          "text": "window.removeEventListener(MEDIA_MUTED_EVENT, onMutedEvent);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 10982,
          "text": "a.removeEventListener('loadedmetadata', onLoaded);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 10983,
          "text": "a.removeEventListener('play', onPlay);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 10984,
          "text": "a.removeEventListener('pause', onPause);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 10985,
          "text": "a.removeEventListener('ended', onEnded);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 11411,
          "text": "return ()=>{ window.removeEventListener('auth:ok',upd); window.removeEventListener('auth:success',upd); clearInterval(id) }",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 11507,
          "text": "document.removeEventListener('pointerdown', onDown, true)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 11508,
          "text": "document.removeEventListener('keydown', onKey, true)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 11509,
          "text": "window.removeEventListener('scroll', onScroll, true)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 11510,
          "text": "window.removeEventListener('resize', onScroll, true)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 11669,
          "text": "document.removeEventListener('play', handlePlay, true);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 11670,
          "text": "window.removeEventListener('site-media-play', onSiteMediaPlay);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 12195,
          "text": "window.removeEventListener(MEDIA_MUTED_EVENT, onMutedEvent);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 12214,
          "text": "if (h) el.removeEventListener('volumechange', h);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 12326,
          "text": "return ()=> window.removeEventListener('qcoin:open', open)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 12334,
          "text": "return () => window.removeEventListener('vip:open', openVip)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 12385,
          "text": "return () => window.removeEventListener('forum:edit', onEdit);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 12751,
          "text": "return ()=> ['click','keydown'].forEach(e => el.removeEventListener(e, mark));",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 12762,
          "text": "document.removeEventListener('visibilitychange', upd);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 12763,
          "text": "window.removeEventListener('focus', upd);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 12764,
          "text": "window.removeEventListener('blur',  upd);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 13190,
          "text": "return () => window.removeEventListener('storage', onStorage)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 13226,
          "text": "return () => window.removeEventListener('storage', onStorage);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 13576,
          "text": "window.removeEventListener('scroll', onScroll);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 13801,
          "text": "try { attachedEl.removeEventListener('touchstart', onTouchStart, optsTouch); } catch {}",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 13802,
          "text": "try { attachedEl.removeEventListener('touchmove', onTouchMove, optsTouch); } catch {}",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 13803,
          "text": "try { attachedEl.removeEventListener('touchend', onTouchEnd, optsTouch); } catch {}",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 13823,
          "text": "try { attachedEl.removeEventListener('touchstart', onTouchStart, optsTouch); } catch {}",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 13824,
          "text": "try { attachedEl.removeEventListener('touchmove', onTouchMove, optsTouch); } catch {}",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 13825,
          "text": "try { attachedEl.removeEventListener('touchend', onTouchEnd, optsTouch); } catch {}",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 14707,
          "text": "window.removeEventListener('forum:head-hide-once', onHeadHideOnce);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 14708,
          "text": "window.removeEventListener('inbox:open-dm', onOpenDm);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 15323,
          "text": "return () => document.removeEventListener('pointerdown', onDown, true);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 15334,
          "text": "return () => sendBtn.removeEventListener('click', onClick);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 15616,
          "text": "video.removeEventListener('loadedmetadata', onMeta);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 18347,
          "text": "return () => window.removeEventListener('scroll', onScroll);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "<video",
          "line": 175,
          "text": "// Иначе оно улетает в ветку video и рендерится нативным <video controls> (чёрный экран).",
          "why": "Видео = память+декодер+GPU"
        },
        {
          "key": "<video",
          "line": 2510,
          "text": "/* 2) Обычные <img>/<video>/<canvas>/<svg> внутри — растянуть и покрыть */",
          "why": "Видео = память+декодер+GPU"
        },
        {
          "key": "<video",
          "line": 6994,
          "text": "<video",
          "why": "Видео = память+декодер+GPU"
        },
        {
          "key": "<video",
          "line": 9525,
          "text": "{/* видео: отдельные карточки с <video controls> */}",
          "why": "Видео = память+декодер+GPU"
        },
        {
          "key": "<video",
          "line": 9530,
          "text": "<video",
          "why": "Видео = память+декодер+GPU"
        },
        {
          "key": "<video",
          "line": 9910,
          "text": "<video",
          "why": "Видео = память+декодер+GPU"
        },
        {
          "key": "<video",
          "line": 10283,
          "text": "<video",
          "why": "Видео = память+декодер+GPU"
        },
        {
          "key": "<video",
          "line": 11187,
          "text": "// Native <video> controls: ONLY after user interaction (tap/click)",
          "why": "Видео = память+декодер+GPU"
        },
        {
          "key": "<video",
          "line": 11588,
          "text": "// В любой момент времени играет только один <video>/<audio> controls.",
          "why": "Видео = память+декодер+GPU"
        },
        {
          "key": "<video",
          "line": 19756,
          "text": "<video",
          "why": "Видео = память+декодер+GPU"
        },
        {
          "key": "<video",
          "line": 21198,
          "text": "<video",
          "why": "Видео = память+декодер+GPU"
        },
        {
          "key": "<video",
          "line": 21644,
          "text": "? <video className=\"questThumb\" src={q.cover} playsInline autoPlay muted loop preload=\"metadata\" />",
          "why": "Видео = память+декодер+GPU"
        },
        {
          "key": "<video",
          "line": 21738,
          "text": "? <video className=\"questThumb\" src={q.cover} playsInline autoPlay muted loop preload=\"metadata\" />",
          "why": "Видео = память+декодер+GPU"
        },
        {
          "key": "<audio",
          "line": 10792,
          "text": "// делаем ВИДИМЫЙ контейнер объектом автоплея (а не <audio>, который может быть 0x0)",
          "why": "Аудио = доп ресурсы"
        },
        {
          "key": "<audio",
          "line": 10799,
          "text": "<audio",
          "why": "Аудио = доп ресурсы"
        },
        {
          "key": "<audio",
          "line": 11162,
          "text": "<audio ref={audioRef} src={src} preload=\"metadata\" />",
          "why": "Аудио = доп ресурсы"
        },
        {
          "key": "<audio",
          "line": 11588,
          "text": "// В любой момент времени играет только один <video>/<audio> controls.",
          "why": "Аудио = доп ресурсы"
        },
        {
          "key": "<audio",
          "line": 12153,
          "text": "// Q-Cast: mute/unmute берём с вложенного <audio>",
          "why": "Аудио = доп ресурсы"
        },
        {
          "key": "<img",
          "line": 687,
          "text": "<img className=\"vipFlipImg vip1\" src={VIP_BADGE_IMG_1} alt=\"\" loading=\"lazy\" />",
          "why": "Картинки без lazy часто убивают память"
        },
        {
          "key": "<img",
          "line": 688,
          "text": "<img className=\"vipFlipImg vip2\" src={VIP_BADGE_IMG_2} alt=\"\" loading=\"lazy\" />",
          "why": "Картинки без lazy часто убивают память"
        },
        {
          "key": "<img",
          "line": 718,
          "text": "// строго детерминированный URL и только <img>",
          "why": "Картинки без lazy часто убивают память"
        },
        {
          "key": "<img",
          "line": 762,
          "text": "* — После mount, если icon — картинка, показываем <img> внутри того же <div>",
          "why": "Картинки без lazy часто убивают память"
        },
        {
          "key": "<img",
          "line": 2510,
          "text": "/* 2) Обычные <img>/<video>/<canvas>/<svg> внутри — растянуть и покрыть */",
          "why": "Картинки без lazy часто убивают память"
        },
        {
          "key": "<img",
          "line": 7665,
          "text": "// WHY: <img> + object-fit:cover обрезает картинку в квадрат сразу после выбора.",
          "why": "Картинки без lazy часто убивают память"
        },
        {
          "key": "<img",
          "line": 8313,
          "text": "<img",
          "why": "Картинки без lazy часто убивают память"
        },
        {
          "key": "<img",
          "line": 8321,
          "text": "<img",
          "why": "Картинки без lazy часто убивают память"
        },
        {
          "key": "<img",
          "line": 10268,
          "text": "<img",
          "why": "Картинки без lazy часто убивают память"
        },
        {
          "key": "<img",
          "line": 10797,
          "text": "<img className=\"qcastCover\" src=\"/audio/Q-Cast.png\" alt=\"Q-Cast\" />",
          "why": "Картинки без lazy часто убивают память"
        },
        {
          "key": "<img",
          "line": 18690,
          "text": "<img",
          "why": "Картинки без lazy часто убивают память"
        },
        {
          "key": "<img",
          "line": 19148,
          "text": "<img",
          "why": "Картинки без lazy часто убивают память"
        },
        {
          "key": "<img",
          "line": 20195,
          "text": "<img",
          "why": "Картинки без lazy часто убивают память"
        },
        {
          "key": "<img",
          "line": 20655,
          "text": "<img",
          "why": "Картинки без lazy часто убивают память"
        },
        {
          "key": "autoplay",
          "line": 6997,
          "text": "autoPlay",
          "why": "Autoplay/loop → постоянная нагрузка"
        },
        {
          "key": "autoplay",
          "line": 9579,
          "text": "allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\"",
          "why": "Autoplay/loop → постоянная нагрузка"
        },
        {
          "key": "autoplay",
          "line": 9658,
          "text": "allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\"",
          "why": "Autoplay/loop → постоянная нагрузка"
        },
        {
          "key": "autoplay",
          "line": 9912,
          "text": "autoPlay",
          "why": "Autoplay/loop → постоянная нагрузка"
        },
        {
          "key": "autoplay",
          "line": 11755,
          "text": "// === Shorts-like autoplay: play when in focus, pause when out ===",
          "why": "Autoplay/loop → постоянная нагрузка"
        },
        {
          "key": "autoplay",
          "line": 15602,
          "text": "video.autoplay = true;",
          "why": "Autoplay/loop → постоянная нагрузка"
        },
        {
          "key": "autoplay",
          "line": 21644,
          "text": "? <video className=\"questThumb\" src={q.cover} playsInline autoPlay muted loop preload=\"metadata\" />",
          "why": "Autoplay/loop → постоянная нагрузка"
        },
        {
          "key": "autoplay",
          "line": 21738,
          "text": "? <video className=\"questThumb\" src={q.cover} playsInline autoPlay muted loop preload=\"metadata\" />",
          "why": "Autoplay/loop → постоянная нагрузка"
        },
        {
          "key": "loop",
          "line": 6999,
          "text": "loop",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 12014,
          "text": "// НЕ выставляем loop=true (это ломает пользовательский контроль)",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 12931,
          "text": "// === Incremental sync loop: 2m flush + snapshot ===",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 15646,
          "text": "const loop = () => {",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 15651,
          "text": "rafId = requestAnimationFrame(loop);",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 15653,
          "text": "loop();",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 21644,
          "text": "? <video className=\"questThumb\" src={q.cover} playsInline autoPlay muted loop preload=\"metadata\" />",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 21738,
          "text": "? <video className=\"questThumb\" src={q.cover} playsInline autoPlay muted loop preload=\"metadata\" />",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "preload",
          "line": 1374,
          "text": "warmed.preload = slow ? 'metadata' : 'auto';",
          "why": "preload=auto/metadata может забивать сеть/память"
        },
        {
          "key": "preload",
          "line": 1404,
          "text": "warmed.preload = slow ? 'metadata' : 'auto';",
          "why": "preload=auto/metadata может забивать сеть/память"
        },
        {
          "key": "preload",
          "line": 7001,
          "text": "preload=\"metadata\"",
          "why": "preload=auto/metadata может забивать сеть/память"
        },
        {
          "key": "preload",
          "line": 9536,
          "text": "preload=\"metadata\"",
          "why": "preload=auto/metadata может забивать сеть/память"
        },
        {
          "key": "preload",
          "line": 10802,
          "text": "preload=\"metadata\"",
          "why": "preload=auto/metadata может забивать сеть/память"
        },
        {
          "key": "preload",
          "line": 11162,
          "text": "<audio ref={audioRef} src={src} preload=\"metadata\" />",
          "why": "preload=auto/metadata может забивать сеть/память"
        },
        {
          "key": "preload",
          "line": 11702,
          "text": "video.preload = 'metadata';",
          "why": "preload=auto/metadata может забивать сеть/память"
        },
        {
          "key": "preload",
          "line": 16052,
          "text": "video.preload = 'metadata';",
          "why": "preload=auto/metadata может забивать сеть/память"
        },
        {
          "key": "preload",
          "line": 16817,
          "text": "v.preload = 'metadata';",
          "why": "preload=auto/metadata может забивать сеть/память"
        },
        {
          "key": "preload",
          "line": 19760,
          "text": "preload=\"metadata\"",
          "why": "preload=auto/metadata может забивать сеть/память"
        },
        {
          "key": "preload",
          "line": 21202,
          "text": "preload=\"metadata\"",
          "why": "preload=auto/metadata может забивать сеть/память"
        },
        {
          "key": "preload",
          "line": 21644,
          "text": "? <video className=\"questThumb\" src={q.cover} playsInline autoPlay muted loop preload=\"metadata\" />",
          "why": "preload=auto/metadata может забивать сеть/память"
        },
        {
          "key": "preload",
          "line": 21738,
          "text": "? <video className=\"questThumb\" src={q.cover} playsInline autoPlay muted loop preload=\"metadata\" />",
          "why": "preload=auto/metadata может забивать сеть/память"
        },
        {
          "key": "loading=lazy",
          "line": 687,
          "text": "<img className=\"vipFlipImg vip1\" src={VIP_BADGE_IMG_1} alt=\"\" loading=\"lazy\" />",
          "why": "Ищем где НЕ lazy"
        },
        {
          "key": "loading=lazy",
          "line": 688,
          "text": "<img className=\"vipFlipImg vip2\" src={VIP_BADGE_IMG_2} alt=\"\" loading=\"lazy\" />",
          "why": "Ищем где НЕ lazy"
        },
        {
          "key": "loading=lazy",
          "line": 9049,
          "text": "loading=\"lazy\"",
          "why": "Ищем где НЕ lazy"
        },
        {
          "key": "loading=lazy",
          "line": 9516,
          "text": "loading=\"lazy\"",
          "why": "Ищем где НЕ lazy"
        },
        {
          "key": "loading=lazy",
          "line": 9577,
          "text": "loading=\"lazy\"",
          "why": "Ищем где НЕ lazy"
        },
        {
          "key": "loading=lazy",
          "line": 9656,
          "text": "loading=\"lazy\"",
          "why": "Ищем где НЕ lazy"
        },
        {
          "key": "loading=lazy",
          "line": 18686,
          "text": "loading=\"lazy\"",
          "why": "Ищем где НЕ lazy"
        },
        {
          "key": "loading=lazy",
          "line": 18693,
          "text": "loading=\"lazy\"",
          "why": "Ищем где НЕ lazy"
        },
        {
          "key": "loading=lazy",
          "line": 19726,
          "text": "loading=\"lazy\"",
          "why": "Ищем где НЕ lazy"
        },
        {
          "key": "loading=lazy",
          "line": 19744,
          "text": "loading=\"lazy\"",
          "why": "Ищем где НЕ lazy"
        },
        {
          "key": "loading=lazy",
          "line": 20191,
          "text": "loading=\"lazy\"",
          "why": "Ищем где НЕ lazy"
        },
        {
          "key": "loading=lazy",
          "line": 20198,
          "text": "loading=\"lazy\"",
          "why": "Ищем где НЕ lazy"
        },
        {
          "key": "loading=lazy",
          "line": 21176,
          "text": "<Image src={u} alt=\"\" loading=\"lazy\" unoptimized width={600} height={600}",
          "why": "Ищем где НЕ lazy"
        },
        {
          "key": "loading=lazy",
          "line": 21645,
          "text": ": <Image className=\"questThumb\" src={q.cover} alt=\"\" loading=\"lazy\" unoptimized width={60} height={60} />",
          "why": "Ищем где НЕ lazy"
        },
        {
          "key": "loading=lazy",
          "line": 21739,
          "text": ": <Image className=\"questThumb\" src={q.cover} alt=\"\" loading=\"lazy\" unoptimized width={60} height={60} />",
          "why": "Ищем где НЕ lazy"
        },
        {
          "key": "createObjectURL",
          "line": 7909,
          "text": "const url = URL.createObjectURL(f);",
          "why": "Если без revoke → утечки памяти"
        },
        {
          "key": "createObjectURL",
          "line": 15548,
          "text": "const url  = URL.createObjectURL(blob);",
          "why": "Если без revoke → утечки памяти"
        },
        {
          "key": "createObjectURL",
          "line": 15768,
          "text": "const url = URL.createObjectURL(blob);",
          "why": "Если без revoke → утечки памяти"
        },
        {
          "key": "createObjectURL",
          "line": 16047,
          "text": ": URL.createObjectURL(videoSource);",
          "why": "Если без revoke → утечки памяти"
        },
        {
          "key": "revokeObjectURL",
          "line": 7775,
          "text": "URL.revokeObjectURL(url);",
          "why": "Проверяем парность create/revoke"
        },
        {
          "key": "revokeObjectURL",
          "line": 15773,
          "text": "if (prev && /^blob:/.test(prev)) URL.revokeObjectURL(prev);",
          "why": "Проверяем парность create/revoke"
        },
        {
          "key": "revokeObjectURL",
          "line": 15836,
          "text": "try { URL.revokeObjectURL(pendingVideo) } catch {}",
          "why": "Проверяем парность create/revoke"
        },
        {
          "key": "revokeObjectURL",
          "line": 15869,
          "text": "if (pendingAudio && /^blob:/.test(pendingAudio)) URL.revokeObjectURL(pendingAudio);",
          "why": "Проверяем парность create/revoke"
        },
        {
          "key": "revokeObjectURL",
          "line": 16151,
          "text": "try { URL.revokeObjectURL(url); } catch {}",
          "why": "Проверяем парность create/revoke"
        },
        {
          "key": "revokeObjectURL",
          "line": 16536,
          "text": "try { if (pendingAudio && /^blob:/.test(pendingAudio)) URL.revokeObjectURL(pendingAudio) } catch {}",
          "why": "Проверяем парность create/revoke"
        },
        {
          "key": "revokeObjectURL",
          "line": 16551,
          "text": "if (pendingVideo && /^blob:/.test(pendingVideo)) URL.revokeObjectURL(pendingVideo);",
          "why": "Проверяем парность create/revoke"
        },
        {
          "key": "revokeObjectURL",
          "line": 16672,
          "text": "try { if (pendingAudio && /^blob:/.test(pendingAudio)) URL.revokeObjectURL(pendingAudio) } catch {}",
          "why": "Проверяем парность create/revoke"
        },
        {
          "key": "revokeObjectURL",
          "line": 16689,
          "text": "if (pendingVideo && /^blob:/.test(pendingVideo)) URL.revokeObjectURL(pendingVideo);",
          "why": "Проверяем парность create/revoke"
        },
        {
          "key": "revokeObjectURL",
          "line": 21264,
          "text": "URL.revokeObjectURL(pendingVideo);",
          "why": "Проверяем парность create/revoke"
        },
        {
          "key": "onScroll",
          "line": 7416,
          "text": "const onScroll = () => schedulePositionUpdate()",
          "why": "Проверь, нет ли setState/измерений внутри"
        },
        {
          "key": "onScroll",
          "line": 11501,
          "text": "const onScroll = () => syncReportAnchorRect()",
          "why": "Проверь, нет ли setState/измерений внутри"
        },
        {
          "key": "onScroll",
          "line": 13505,
          "text": "const onScroll = () => {",
          "why": "Проверь, нет ли setState/измерений внутри"
        },
        {
          "key": "onScroll",
          "line": 18345,
          "text": "const onScroll = () => { lastUserScrollTsRef.current = Date.now(); };",
          "why": "Проверь, нет ли setState/измерений внутри"
        },
        {
          "key": "touchmove",
          "line": 10602,
          "text": "window.addEventListener('touchmove', prevent, { passive: false });",
          "why": "Touchmove легко сломать/перегрузить"
        },
        {
          "key": "touchmove",
          "line": 10606,
          "text": "window.removeEventListener('touchmove', prevent);",
          "why": "Touchmove легко сломать/перегрузить"
        },
        {
          "key": "touchmove",
          "line": 13802,
          "text": "try { attachedEl.removeEventListener('touchmove', onTouchMove, optsTouch); } catch {}",
          "why": "Touchmove легко сломать/перегрузить"
        },
        {
          "key": "touchmove",
          "line": 13807,
          "text": "try { scrollEl.addEventListener('touchmove', onTouchMove, optsTouch); } catch {}",
          "why": "Touchmove легко сломать/перегрузить"
        },
        {
          "key": "touchmove",
          "line": 13824,
          "text": "try { attachedEl.removeEventListener('touchmove', onTouchMove, optsTouch); } catch {}",
          "why": "Touchmove легко сломать/перегрузить"
        },
        {
          "key": "wheel",
          "line": 10601,
          "text": "window.addEventListener('wheel', prevent, { passive: false });",
          "why": "Wheel обработчики могут грузить"
        },
        {
          "key": "wheel",
          "line": 10605,
          "text": "window.removeEventListener('wheel', prevent);",
          "why": "Wheel обработчики могут грузить"
        },
        {
          "key": "wheel",
          "line": 13590,
          "text": "// ✅ Новый sticky-feed: ТОЛЬКО TAЧ, строго 1 свайп = 1 карточка, без центрирования и без wheel.",
          "why": "Wheel обработчики могут грузить"
        }
      ]
    },
    {
      "file": "C:\\Users\\BETEP\\OneDrive\\Рабочий стол\\quantuml7ai_fullstarter\\tools\\audit-heavy.js",
      "counts": {
        "clearInterval": 1,
        "getBoundingClientRect": 1,
        "removeEventListener": 1,
        "<video": 6,
        "<audio": 1,
        "<img": 2,
        "autoplay": 6,
        "loop": 2,
        "preload": 1,
        "touchmove": 1,
        "wheel": 1
      },
      "flags": [
        "⚠ autoplay видео (может грузить/GPU/память)"
      ],
      "hits": [
        {
          "key": "clearInterval",
          "line": 92,
          "text": "if ((counts.setInterval || 0) > (counts.clearInterval || 0)) flags.push(\"⚠ setInterval > clearInterval (возможная утечка)\");",
          "why": "Проверяем парность с setInterval"
        },
        {
          "key": "getBoundingClientRect",
          "line": 94,
          "text": "if ((counts.getBoundingClientRect || 0) >= 10) flags.push(\"⚠ много getBoundingClientRect (дорого, особенно в scroll/raf)\");",
          "why": "Очень дорого в скролле/таче/raf"
        },
        {
          "key": "removeEventListener",
          "line": 91,
          "text": "if ((counts.addEventListener || 0) > (counts.removeEventListener || 0)) flags.push(\"⚠ addEventListener > removeEventListener (возможная утечка)\");",
          "why": "Проверяем парность с add"
        },
        {
          "key": "<video",
          "line": 35,
          "text": "{ key: \"<video\", rx: /<video\\b/gi, why: \"Видео = память+декодер+GPU\" },",
          "why": "Видео = память+декодер+GPU"
        },
        {
          "key": "<video",
          "line": 95,
          "text": "if ((counts.autoplay || 0) >= 1 && (counts[\"<video\"] || 0) >= 1) flags.push(\"⚠ autoplay видео (может грузить/GPU/память)\");",
          "why": "Видео = память+декодер+GPU"
        },
        {
          "key": "<video",
          "line": 108,
          "text": "+ (a.counts[\"<video\"] || 0) * 6",
          "why": "Видео = память+декодер+GPU"
        },
        {
          "key": "<video",
          "line": 113,
          "text": "+ (b.counts[\"<video\"] || 0) * 6",
          "why": "Видео = память+декодер+GPU"
        },
        {
          "key": "<video",
          "line": 126,
          "text": "(c[\"<video\"] || 0) * 6 +",
          "why": "Видео = память+декодер+GPU"
        },
        {
          "key": "<video",
          "line": 133,
          "text": "console.log(`  score=${score}  rect=${c.getBoundingClientRect || 0}  video=${c[\"<video\"] || 0}  autoplay=${c.autoplay || 0}  interval=${c.setInterval || 0}  raf=${c.requestAnimationFrame || 0}`);",
          "why": "Видео = память+декодер+GPU"
        },
        {
          "key": "<audio",
          "line": 36,
          "text": "{ key: \"<audio\", rx: /<audio\\b/gi, why: \"Аудио = доп ресурсы\" },",
          "why": "Аудио = доп ресурсы"
        },
        {
          "key": "<img",
          "line": 37,
          "text": "{ key: \"<img\", rx: /<img\\b/gi, why: \"Картинки без lazy часто убивают память\" },",
          "why": "Картинки без lazy часто убивают память"
        },
        {
          "key": "<img",
          "line": 96,
          "text": "if ((counts[\"<img\"] || 0) >= 5 && (counts[\"loading=lazy\"] || 0) === 0) flags.push(\"⚠ много img без loading=lazy\");",
          "why": "Картинки без lazy часто убивают память"
        },
        {
          "key": "autoplay",
          "line": 38,
          "text": "{ key: \"autoplay\", rx: /\\bautoPlay\\b|autoplay\\s*=/gi, why: \"Autoplay/loop → постоянная нагрузка\" },",
          "why": "Autoplay/loop → постоянная нагрузка"
        },
        {
          "key": "autoplay",
          "line": 95,
          "text": "if ((counts.autoplay || 0) >= 1 && (counts[\"<video\"] || 0) >= 1) flags.push(\"⚠ autoplay видео (может грузить/GPU/память)\");",
          "why": "Autoplay/loop → постоянная нагрузка"
        },
        {
          "key": "autoplay",
          "line": 109,
          "text": "+ (a.counts.autoplay || 0) * 6",
          "why": "Autoplay/loop → постоянная нагрузка"
        },
        {
          "key": "autoplay",
          "line": 114,
          "text": "+ (b.counts.autoplay || 0) * 6",
          "why": "Autoplay/loop → постоянная нагрузка"
        },
        {
          "key": "autoplay",
          "line": 127,
          "text": "(c.autoplay || 0) * 6 +",
          "why": "Autoplay/loop → постоянная нагрузка"
        },
        {
          "key": "autoplay",
          "line": 133,
          "text": "console.log(`  score=${score}  rect=${c.getBoundingClientRect || 0}  video=${c[\"<video\"] || 0}  autoplay=${c.autoplay || 0}  interval=${c.setInterval || 0}  raf=${c.requestAnimationFrame || 0}`);",
          "why": "Autoplay/loop → постоянная нагрузка"
        },
        {
          "key": "loop",
          "line": 38,
          "text": "{ key: \"autoplay\", rx: /\\bautoPlay\\b|autoplay\\s*=/gi, why: \"Autoplay/loop → постоянная нагрузка\" },",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 39,
          "text": "{ key: \"loop\", rx: /\\bloop\\b/gi, why: \"Loop особенно опасен на множестве карточек\" },",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "preload",
          "line": 40,
          "text": "{ key: \"preload\", rx: /\\bpreload\\s*=/gi, why: \"preload=auto/metadata может забивать сеть/память\" },",
          "why": "preload=auto/metadata может забивать сеть/память"
        },
        {
          "key": "touchmove",
          "line": 53,
          "text": "{ key: \"touchmove\", rx: /\\btouchmove\\b/gi, why: \"Touchmove легко сломать/перегрузить\" },",
          "why": "Touchmove легко сломать/перегрузить"
        },
        {
          "key": "wheel",
          "line": 54,
          "text": "{ key: \"wheel\", rx: /\\bwheel\\b/gi, why: \"Wheel обработчики могут грузить\" },",
          "why": "Wheel обработчики могут грузить"
        }
      ]
    },
    {
      "file": "C:\\Users\\BETEP\\OneDrive\\Рабочий стол\\quantuml7ai_fullstarter\\app\\forum\\ForumAds.js",
      "counts": {
        "setInterval": 1,
        "clearInterval": 1,
        "setTimeout": 3,
        "addEventListener": 4,
        "removeEventListener": 4,
        "<video": 1,
        "<img": 1,
        "autoplay": 4,
        "loop": 2,
        "preload": 1,
        "loading=lazy": 1,
        "decoding=async": 1
      },
      "flags": [
        "⚠ autoplay видео (может грузить/GPU/память)"
      ],
      "hits": [
        {
          "key": "setInterval",
          "line": 982,
          "text": "const timer = setInterval(pickNext, rotateMs);",
          "why": "Может плодиться/не чиститься → утечки/нагрузка"
        },
        {
          "key": "clearInterval",
          "line": 985,
          "text": "clearInterval(timer);",
          "why": "Проверяем парность с setInterval"
        },
        {
          "key": "setTimeout",
          "line": 713,
          "text": "const timer = setTimeout(() => finish(false), timeoutMs);",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 723,
          "text": "const timer = setTimeout(() => controller.abort(), timeoutMs);",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 1347,
          "text": "timer = setTimeout(() => {",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "addEventListener",
          "line": 846,
          "text": "document.addEventListener('visibilitychange', sync);",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 847,
          "text": "window.addEventListener('focus', sync);",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 848,
          "text": "window.addEventListener('blur', sync);",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 912,
          "text": "window.addEventListener(MEDIA_MUTED_EVENT, onMuted);",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "removeEventListener",
          "line": 851,
          "text": "document.removeEventListener('visibilitychange', sync);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 852,
          "text": "window.removeEventListener('focus', sync);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 853,
          "text": "window.removeEventListener('blur', sync);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 913,
          "text": "return () => window.removeEventListener(MEDIA_MUTED_EVENT, onMuted);",
          "why": "Проверяем парность с add"
        },
        {
          "key": "<video",
          "line": 1582,
          "text": "<video",
          "why": "Видео = память+декодер+GPU"
        },
        {
          "key": "<img",
          "line": 1654,
          "text": "<img",
          "why": "Картинки без lazy часто убивают память"
        },
        {
          "key": "autoplay",
          "line": 1237,
          "text": "autoplay: 0,",
          "why": "Autoplay/loop → постоянная нагрузка"
        },
        {
          "key": "autoplay",
          "line": 1301,
          "text": "emitMutedPref(true, playerIdRef.current, 'forum-ads-autoplay-fallback');",
          "why": "Autoplay/loop → постоянная нагрузка"
        },
        {
          "key": "autoplay",
          "line": 1606,
          "text": "allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\"",
          "why": "Autoplay/loop → постоянная нагрузка"
        },
        {
          "key": "autoplay",
          "line": 1630,
          "text": "allow=\"autoplay; encrypted-media; fullscreen; picture-in-picture\"",
          "why": "Autoplay/loop → постоянная нагрузка"
        },
        {
          "key": "loop",
          "line": 1244,
          "text": "loop: 1,",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 1587,
          "text": "loop",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "preload",
          "line": 1589,
          "text": "preload={isNear ? 'metadata' : 'none'}",
          "why": "preload=auto/metadata может забивать сеть/память"
        },
        {
          "key": "loading=lazy",
          "line": 1658,
          "text": "loading=\"lazy\"",
          "why": "Ищем где НЕ lazy"
        },
        {
          "key": "decoding=async",
          "line": 1659,
          "text": "decoding=\"async\"",
          "why": "Полезно для img"
        }
      ]
    },
    {
      "file": "C:\\Users\\BETEP\\OneDrive\\Рабочий стол\\quantuml7ai_fullstarter\\app\\ads\\home.js",
      "counts": {
        "addEventListener": 1,
        "removeEventListener": 1,
        "<video": 2,
        "<img": 2,
        "autoplay": 2,
        "loop": 2,
        "preload": 1,
        "createObjectURL": 3,
        "revokeObjectURL": 2,
        "onScroll": 1
      },
      "flags": [
        "⚠ createObjectURL > revokeObjectURL (возможная утечка)",
        "⚠ autoplay видео (может грузить/GPU/память)"
      ],
      "hits": [
        {
          "key": "addEventListener",
          "line": 1826,
          "text": "window.addEventListener('resize', check)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "removeEventListener",
          "line": 1827,
          "text": "return () => window.removeEventListener('resize', check)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "<video",
          "line": 2565,
          "text": "<video",
          "why": "Видео = память+декодер+GPU"
        },
        {
          "key": "<video",
          "line": 3037,
          "text": "<video",
          "why": "Видео = память+декодер+GPU"
        },
        {
          "key": "<img",
          "line": 2574,
          "text": "<img",
          "why": "Картинки без lazy часто убивают память"
        },
        {
          "key": "<img",
          "line": 3052,
          "text": "<img",
          "why": "Картинки без lazy часто убивают память"
        },
        {
          "key": "autoplay",
          "line": 2568,
          "text": "autoPlay",
          "why": "Autoplay/loop → постоянная нагрузка"
        },
        {
          "key": "autoplay",
          "line": 3039,
          "text": "autoPlay",
          "why": "Autoplay/loop → постоянная нагрузка"
        },
        {
          "key": "loop",
          "line": 2570,
          "text": "loop",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 3041,
          "text": "loop",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "preload",
          "line": 116,
          "text": "v.preload = 'metadata'",
          "why": "preload=auto/metadata может забивать сеть/память"
        },
        {
          "key": "createObjectURL",
          "line": 114,
          "text": "const url = URL.createObjectURL(file)",
          "why": "Если без revoke → утечки памяти"
        },
        {
          "key": "createObjectURL",
          "line": 2131,
          "text": "url = URL.createObjectURL(file)",
          "why": "Если без revoke → утечки памяти"
        },
        {
          "key": "createObjectURL",
          "line": 2153,
          "text": "url = URL.createObjectURL(file)",
          "why": "Если без revoke → утечки памяти"
        },
        {
          "key": "revokeObjectURL",
          "line": 120,
          "text": "URL.revokeObjectURL(url)",
          "why": "Проверяем парность create/revoke"
        },
        {
          "key": "revokeObjectURL",
          "line": 132,
          "text": "URL.revokeObjectURL(url)",
          "why": "Проверяем парность create/revoke"
        },
        {
          "key": "onScroll",
          "line": 2189,
          "text": "onScroll={handleRulesScroll}",
          "why": "Проверь, нет ли setState/измерений внутри"
        }
      ]
    },
    {
      "file": "C:\\Users\\BETEP\\OneDrive\\Рабочий стол\\quantuml7ai_fullstarter\\app\\about\\page.js",
      "counts": {
        "querySelectorAll": 1,
        "addEventListener": 1,
        "removeEventListener": 1,
        "<video": 1,
        "<img": 3,
        "autoplay": 1,
        "loop": 3,
        "preload": 1,
        "loading=lazy": 1
      },
      "flags": [
        "⚠ autoplay видео (может грузить/GPU/память)"
      ],
      "hits": [
        {
          "key": "querySelectorAll",
          "line": 126,
          "text": "const imgs = root.querySelectorAll('img[data-anim=\"1\"]')",
          "why": "Может быть дорого/часто вызываться"
        },
        {
          "key": "addEventListener",
          "line": 162,
          "text": "img.addEventListener('mouseenter', onEnter)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "removeEventListener",
          "line": 169,
          "text": "try { floatAnim.cancel(); glowAnim.cancel(); img.removeEventListener('mouseenter', onEnter) } catch {}",
          "why": "Проверяем парность с add"
        },
        {
          "key": "<video",
          "line": 182,
          "text": "<video",
          "why": "Видео = память+декодер+GPU"
        },
        {
          "key": "<img",
          "line": 208,
          "text": "<img src={img.src} alt={img.alt} loading=\"lazy\" />",
          "why": "Картинки без lazy часто убивают память"
        },
        {
          "key": "<img",
          "line": 298,
          "text": "<img",
          "why": "Картинки без lazy часто убивают память"
        },
        {
          "key": "<img",
          "line": 312,
          "text": "<img",
          "why": "Картинки без lazy часто убивают память"
        },
        {
          "key": "autoplay",
          "line": 185,
          "text": "autoPlay",
          "why": "Autoplay/loop → постоянная нагрузка"
        },
        {
          "key": "loop",
          "line": 59,
          "text": "'/branding/about-loop.mp4',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 60,
          "text": "'/about-loop.mp4',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 187,
          "text": "loop",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "preload",
          "line": 188,
          "text": "preload=\"metadata\"",
          "why": "preload=auto/metadata может забивать сеть/память"
        },
        {
          "key": "loading=lazy",
          "line": 208,
          "text": "<img src={img.src} alt={img.alt} loading=\"lazy\" />",
          "why": "Ищем где НЕ lazy"
        }
      ]
    },
    {
      "file": "C:\\Users\\BETEP\\OneDrive\\Рабочий стол\\quantuml7ai_fullstarter\\components\\BgAudio.js",
      "counts": {
        "addEventListener": 8,
        "removeEventListener": 8,
        "<audio": 1,
        "autoplay": 2,
        "preload": 1,
        "touchmove": 2,
        "wheel": 3
      },
      "flags": [],
      "hits": [
        {
          "key": "addEventListener",
          "line": 101,
          "text": "window.addEventListener('pointerdown', onGesture, true)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 102,
          "text": "window.addEventListener('click', onGesture, true)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 103,
          "text": "window.addEventListener('keydown', onGesture, true)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 104,
          "text": "window.addEventListener('wheel', onGesture, { passive: true, capture: true })",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 105,
          "text": "window.addEventListener('touchstart', onGesture, { passive: true, capture: true })",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 106,
          "text": "window.addEventListener('touchmove', onGesture, { passive: true, capture: true })",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 151,
          "text": "window.addEventListener('site-media-play', onMediaPlay)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 152,
          "text": "document.addEventListener('play', onAnyPlay, true)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "removeEventListener",
          "line": 112,
          "text": "window.removeEventListener('pointerdown', onGesture, true)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 113,
          "text": "window.removeEventListener('click', onGesture, true)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 114,
          "text": "window.removeEventListener('keydown', onGesture, true)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 115,
          "text": "window.removeEventListener('wheel', onGesture, true)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 116,
          "text": "window.removeEventListener('touchstart', onGesture, true)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 117,
          "text": "window.removeEventListener('touchmove', onGesture, true)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 155,
          "text": "window.removeEventListener('site-media-play', onMediaPlay)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 156,
          "text": "document.removeEventListener('play', onAnyPlay, true)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "<audio",
          "line": 199,
          "text": "<audio",
          "why": "Аудио = доп ресурсы"
        },
        {
          "key": "autoplay",
          "line": 14,
          "text": "const [locked, setLocked] = useState(true) // браузер запретил autoplay со звуком",
          "why": "Autoplay/loop → постоянная нагрузка"
        },
        {
          "key": "autoplay",
          "line": 53,
          "text": "// autoplay со звуком запрещён → играем тихо",
          "why": "Autoplay/loop → постоянная нагрузка"
        },
        {
          "key": "preload",
          "line": 202,
          "text": "preload=\"auto\"",
          "why": "preload=auto/metadata может забивать сеть/память"
        },
        {
          "key": "touchmove",
          "line": 106,
          "text": "window.addEventListener('touchmove', onGesture, { passive: true, capture: true })",
          "why": "Touchmove легко сломать/перегрузить"
        },
        {
          "key": "touchmove",
          "line": 117,
          "text": "window.removeEventListener('touchmove', onGesture, true)",
          "why": "Touchmove легко сломать/перегрузить"
        },
        {
          "key": "wheel",
          "line": 104,
          "text": "window.addEventListener('wheel', onGesture, { passive: true, capture: true })",
          "why": "Wheel обработчики могут грузить"
        },
        {
          "key": "wheel",
          "line": 115,
          "text": "window.removeEventListener('wheel', onGesture, true)",
          "why": "Wheel обработчики могут грузить"
        },
        {
          "key": "wheel",
          "line": 213,
          "text": "? `Sound on • ${Math.round(vol * 100)}% (wheel to change)`",
          "why": "Wheel обработчики могут грузить"
        }
      ]
    },
    {
      "file": "C:\\Users\\BETEP\\OneDrive\\Рабочий стол\\quantuml7ai_fullstarter\\app\\exchange\\page.js",
      "counts": {
        "setInterval": 4,
        "clearInterval": 5,
        "setTimeout": 3,
        "addEventListener": 9,
        "removeEventListener": 6
      },
      "flags": [
        "⚠ addEventListener > removeEventListener (возможная утечка)"
      ],
      "hits": [
        {
          "key": "setInterval",
          "line": 1469,
          "text": "tickerRef.current = setInterval(async () => {",
          "why": "Может плодиться/не чиститься → утечки/нагрузка"
        },
        {
          "key": "setInterval",
          "line": 1572,
          "text": "const id = setInterval(() => {",
          "why": "Может плодиться/не чиститься → утечки/нагрузка"
        },
        {
          "key": "setInterval",
          "line": 1590,
          "text": "const id = setInterval(() => {",
          "why": "Может плодиться/не чиститься → утечки/нагрузка"
        },
        {
          "key": "setInterval",
          "line": 1687,
          "text": "const id = setInterval(load, 3000)",
          "why": "Может плодиться/не чиститься → утечки/нагрузка"
        },
        {
          "key": "clearInterval",
          "line": 1463,
          "text": "if (tickerRef.current) { clearInterval(tickerRef.current); tickerRef.current = null }",
          "why": "Проверяем парность с setInterval"
        },
        {
          "key": "clearInterval",
          "line": 1511,
          "text": "if (tickerRef.current) { clearInterval(tickerRef.current); tickerRef.current = null }",
          "why": "Проверяем парность с setInterval"
        },
        {
          "key": "clearInterval",
          "line": 1584,
          "text": "clearInterval(id)",
          "why": "Проверяем парность с setInterval"
        },
        {
          "key": "clearInterval",
          "line": 1597,
          "text": "return () => clearInterval(id)",
          "why": "Проверяем парность с setInterval"
        },
        {
          "key": "clearInterval",
          "line": 1691,
          "text": "clearInterval(id)",
          "why": "Проверяем парность с setInterval"
        },
        {
          "key": "setTimeout",
          "line": 412,
          "text": "const tick=()=>{ if (window.TradingView) cb(); else setTimeout(tick,40) }",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 709,
          "text": "setTimeout(tick, speed)",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 1023,
          "text": "setTimeout(()=> resolve(getAcc()), 120000)",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "addEventListener",
          "line": 1021,
          "text": "window.addEventListener('auth:ok', done, { once:true })",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 1022,
          "text": "window.addEventListener('auth:success', done, { once:true })",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 1578,
          "text": "window.addEventListener('pagehide', onHide)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 1579,
          "text": "document.addEventListener('visibilitychange', () => {",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 1611,
          "text": "window.addEventListener('vip:refresh', onRefresh)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 1612,
          "text": "window.addEventListener('focus', onFocus)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 1613,
          "text": "document.addEventListener('visibilitychange', onVis)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 1614,
          "text": "window.addEventListener('auth:ok', onRefresh)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 2134,
          "text": "window.addEventListener('open-unlimit', open)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "removeEventListener",
          "line": 1585,
          "text": "window.removeEventListener('pagehide', onHide)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 1616,
          "text": "window.removeEventListener('vip:refresh', onRefresh)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 1617,
          "text": "window.removeEventListener('focus', onFocus)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 1618,
          "text": "document.removeEventListener('visibilitychange', onVis)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 1619,
          "text": "window.removeEventListener('auth:ok', onRefresh)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 2135,
          "text": "return () => window.removeEventListener('open-unlimit', open)",
          "why": "Проверяем парность с add"
        }
      ]
    },
    {
      "file": "C:\\Users\\BETEP\\OneDrive\\Рабочий стол\\quantuml7ai_fullstarter\\app\\page.js",
      "counts": {
        "setInterval": 1,
        "clearInterval": 3,
        "setTimeout": 2,
        "addEventListener": 1,
        "removeEventListener": 1,
        "<img": 1,
        "autoplay": 1,
        "loading=lazy": 2
      },
      "flags": [],
      "hits": [
        {
          "key": "setInterval",
          "line": 157,
          "text": "const tmr = setInterval(() => {",
          "why": "Может плодиться/не чиститься → утечки/нагрузка"
        },
        {
          "key": "clearInterval",
          "line": 162,
          "text": "clearInterval(tmr)",
          "why": "Проверяем парность с setInterval"
        },
        {
          "key": "clearInterval",
          "line": 164,
          "text": "if (tries > 25) clearInterval(tmr) // ~2.5 сек",
          "why": "Проверяем парность с setInterval"
        },
        {
          "key": "clearInterval",
          "line": 169,
          "text": "clearInterval(tmr)",
          "why": "Проверяем парность с setInterval"
        },
        {
          "key": "setTimeout",
          "line": 30,
          "text": "const t = setTimeout(() => controller.abort(), 3000)",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 41,
          "text": "const t = setTimeout(() => controller.abort(), 3000)",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "addEventListener",
          "line": 147,
          "text": "window.addEventListener('tg:link-status', onStatus)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "removeEventListener",
          "line": 168,
          "text": "window.removeEventListener('tg:link-status', onStatus)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "<img",
          "line": 266,
          "text": "{/* ← заменено <img> на <Image/> в двух иконках */}",
          "why": "Картинки без lazy часто убивают память"
        },
        {
          "key": "autoplay",
          "line": 101,
          "text": "allow=\"autoplay; encrypted-media; picture-in-picture\"",
          "why": "Autoplay/loop → постоянная нагрузка"
        },
        {
          "key": "loading=lazy",
          "line": 88,
          "text": "loading=\"lazy\"",
          "why": "Ищем где НЕ lazy"
        },
        {
          "key": "loading=lazy",
          "line": 103,
          "text": "loading=\"lazy\"",
          "why": "Ищем где НЕ lazy"
        }
      ]
    },
    {
      "file": "C:\\Users\\BETEP\\OneDrive\\Рабочий стол\\quantuml7ai_fullstarter\\components\\ScrollTopPulse.js",
      "counts": {
        "setTimeout": 4,
        "requestAnimationFrame": 3,
        "cancelAnimationFrame": 2,
        "addEventListener": 7,
        "removeEventListener": 7,
        "loop": 1,
        "onScroll": 1,
        "touchmove": 2,
        "wheel": 2
      },
      "flags": [],
      "hits": [
        {
          "key": "setTimeout",
          "line": 27,
          "text": "spinTimerRef.current = setTimeout(() => {",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 131,
          "text": "hideTimerRef.current = setTimeout(() => {",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 188,
          "text": "appearTimerRef.current = setTimeout(() => {",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 211,
          "text": "appearTimerRef.current = setTimeout(() => {",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "requestAnimationFrame",
          "line": 279,
          "text": "rafRef.current = requestAnimationFrame(step)",
          "why": "RAF-циклы часто грузят main-thread"
        },
        {
          "key": "requestAnimationFrame",
          "line": 325,
          "text": "rafRef.current = requestAnimationFrame(step)",
          "why": "RAF-циклы часто грузят main-thread"
        },
        {
          "key": "requestAnimationFrame",
          "line": 328,
          "text": "rafRef.current = requestAnimationFrame(step)",
          "why": "RAF-циклы часто грузят main-thread"
        },
        {
          "key": "cancelAnimationFrame",
          "line": 71,
          "text": "cancelAnimationFrame(rafRef.current)",
          "why": "Проверяем парность с RAF"
        },
        {
          "key": "cancelAnimationFrame",
          "line": 341,
          "text": "cancelAnimationFrame(rafRef.current)",
          "why": "Проверяем парность с RAF"
        },
        {
          "key": "addEventListener",
          "line": 84,
          "text": "window.addEventListener('wheel', cancelScroll, { passive: true, capture: true })",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 85,
          "text": "window.addEventListener('touchstart', cancelScroll, { passive: true, capture: true })",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 86,
          "text": "window.addEventListener('touchmove', cancelScroll, { passive: true, capture: true })",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 87,
          "text": "window.addEventListener('pointerdown', cancelScroll, { passive: true, capture: true })",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 88,
          "text": "window.addEventListener('mousedown', cancelScroll, { passive: true, capture: true })",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 89,
          "text": "window.addEventListener('keydown', cancelScroll, { capture: true })",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 227,
          "text": "window.addEventListener('scroll', onScroll, { passive: true })",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "removeEventListener",
          "line": 52,
          "text": "window.removeEventListener('wheel', cancelScroll, { capture: true })",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 53,
          "text": "window.removeEventListener('touchstart', cancelScroll, { capture: true })",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 54,
          "text": "window.removeEventListener('touchmove', cancelScroll, { capture: true })",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 55,
          "text": "window.removeEventListener('pointerdown', cancelScroll, { capture: true })",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 56,
          "text": "window.removeEventListener('mousedown', cancelScroll, { capture: true })",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 57,
          "text": "window.removeEventListener('keydown', cancelScroll, { capture: true })",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 230,
          "text": "window.removeEventListener('scroll', onScroll)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "loop",
          "line": 266,
          "text": "// Не \"подпрыгиваем\" от чтения window.scrollY каждый кадр (feedback loop),",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "onScroll",
          "line": 136,
          "text": "const onScroll = () => {",
          "why": "Проверь, нет ли setState/измерений внутри"
        },
        {
          "key": "touchmove",
          "line": 54,
          "text": "window.removeEventListener('touchmove', cancelScroll, { capture: true })",
          "why": "Touchmove легко сломать/перегрузить"
        },
        {
          "key": "touchmove",
          "line": 86,
          "text": "window.addEventListener('touchmove', cancelScroll, { passive: true, capture: true })",
          "why": "Touchmove легко сломать/перегрузить"
        },
        {
          "key": "wheel",
          "line": 52,
          "text": "window.removeEventListener('wheel', cancelScroll, { capture: true })",
          "why": "Wheel обработчики могут грузить"
        },
        {
          "key": "wheel",
          "line": 84,
          "text": "window.addEventListener('wheel', cancelScroll, { passive: true, capture: true })",
          "why": "Wheel обработчики могут грузить"
        }
      ]
    },
    {
      "file": "C:\\Users\\BETEP\\OneDrive\\Рабочий стол\\quantuml7ai_fullstarter\\components\\SnowFX.jsx",
      "counts": {
        "requestAnimationFrame": 3,
        "cancelAnimationFrame": 1,
        "addEventListener": 3,
        "removeEventListener": 3,
        "loop": 4,
        "onScroll": 1
      },
      "flags": [],
      "hits": [
        {
          "key": "requestAnimationFrame",
          "line": 233,
          "text": "animFrameRef.current = requestAnimationFrame(loop)",
          "why": "RAF-циклы часто грузят main-thread"
        },
        {
          "key": "requestAnimationFrame",
          "line": 297,
          "text": "animFrameRef.current = requestAnimationFrame(loop)",
          "why": "RAF-циклы часто грузят main-thread"
        },
        {
          "key": "requestAnimationFrame",
          "line": 300,
          "text": "animFrameRef.current = requestAnimationFrame(loop)",
          "why": "RAF-циклы часто грузят main-thread"
        },
        {
          "key": "cancelAnimationFrame",
          "line": 304,
          "text": "if (animFrameRef.current) cancelAnimationFrame(animFrameRef.current)",
          "why": "Проверяем парность с RAF"
        },
        {
          "key": "addEventListener",
          "line": 201,
          "text": "window.addEventListener('resize', onResize)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 357,
          "text": "window.addEventListener('pointerdown', onPointerDown, { passive: true })",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 416,
          "text": "window.addEventListener('scroll', onScroll, { passive: true })",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "removeEventListener",
          "line": 202,
          "text": "return () => window.removeEventListener('resize', onResize)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 358,
          "text": "return () => window.removeEventListener('pointerdown', onPointerDown)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 417,
          "text": "return () => window.removeEventListener('scroll', onScroll)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "loop",
          "line": 217,
          "text": "const loop = (ts) => {",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 233,
          "text": "animFrameRef.current = requestAnimationFrame(loop)",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 297,
          "text": "animFrameRef.current = requestAnimationFrame(loop)",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 300,
          "text": "animFrameRef.current = requestAnimationFrame(loop)",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "onScroll",
          "line": 368,
          "text": "const onScroll = () => {",
          "why": "Проверь, нет ли setState/измерений внутри"
        }
      ]
    },
    {
      "file": "C:\\Users\\BETEP\\OneDrive\\Рабочий стол\\quantuml7ai_fullstarter\\app\\exchange\\BattleCoin.jsx",
      "counts": {
        "setInterval": 2,
        "clearInterval": 2,
        "setTimeout": 2,
        "addEventListener": 4,
        "removeEventListener": 4
      },
      "flags": [],
      "hits": [
        {
          "key": "setInterval",
          "line": 228,
          "text": "const id = setInterval(() => setNowTs(Date.now()), 1000)",
          "why": "Может плодиться/не чиститься → утечки/нагрузка"
        },
        {
          "key": "setInterval",
          "line": 328,
          "text": "const id = setInterval(() => {",
          "why": "Может плодиться/не чиститься → утечки/нагрузка"
        },
        {
          "key": "clearInterval",
          "line": 229,
          "text": "return () => clearInterval(id)",
          "why": "Проверяем парность с setInterval"
        },
        {
          "key": "clearInterval",
          "line": 332,
          "text": "return () => clearInterval(id)",
          "why": "Проверяем парность с setInterval"
        },
        {
          "key": "setTimeout",
          "line": 61,
          "text": "const timer = setTimeout(() => {",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 412,
          "text": "setTimeout(() => {",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "addEventListener",
          "line": 100,
          "text": "window.addEventListener('auth:ok', onAuthOk)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 101,
          "text": "window.addEventListener('auth:logout', onLogout)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 317,
          "text": "window.addEventListener('auth:ok', onAuthOk)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 318,
          "text": "window.addEventListener('auth:logout', onLogout)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "removeEventListener",
          "line": 93,
          "text": "window.removeEventListener('auth:ok', onAuthOk)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 96,
          "text": "window.removeEventListener('auth:logout', onLogout)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 322,
          "text": "try { window.removeEventListener('auth:ok', onAuthOk) } catch {}",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 323,
          "text": "try { window.removeEventListener('auth:logout', onLogout) } catch {}",
          "why": "Проверяем парность с add"
        }
      ]
    },
    {
      "file": "C:\\Users\\BETEP\\OneDrive\\Рабочий стол\\quantuml7ai_fullstarter\\components\\QCoinDropFX.jsx",
      "counts": {
        "setTimeout": 2,
        "requestAnimationFrame": 2,
        "cancelAnimationFrame": 1,
        "addEventListener": 5,
        "removeEventListener": 5,
        "loop": 3,
        "onScroll": 1
      },
      "flags": [],
      "hits": [
        {
          "key": "setTimeout",
          "line": 395,
          "text": "setTimeout(() => {",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 401,
          "text": "setTimeout(() => {",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "requestAnimationFrame",
          "line": 240,
          "text": "animFrameRef.current = requestAnimationFrame(loop)",
          "why": "RAF-циклы часто грузят main-thread"
        },
        {
          "key": "requestAnimationFrame",
          "line": 243,
          "text": "animFrameRef.current = requestAnimationFrame(loop)",
          "why": "RAF-циклы часто грузят main-thread"
        },
        {
          "key": "cancelAnimationFrame",
          "line": 247,
          "text": "if (animFrameRef.current) cancelAnimationFrame(animFrameRef.current)",
          "why": "Проверяем парность с RAF"
        },
        {
          "key": "addEventListener",
          "line": 105,
          "text": "window.addEventListener('auth:ok', onAuth)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 106,
          "text": "window.addEventListener('auth:success', onAuth)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 129,
          "text": "window.addEventListener('resize', onResize)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 295,
          "text": "window.addEventListener('pointerdown', onPointerDown, { passive: true })",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 340,
          "text": "window.addEventListener('scroll', onScroll, { passive: true })",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "removeEventListener",
          "line": 119,
          "text": "window.removeEventListener('auth:ok', onAuth)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 120,
          "text": "window.removeEventListener('auth:success', onAuth)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 130,
          "text": "return () => window.removeEventListener('resize', onResize)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 296,
          "text": "return () => window.removeEventListener('pointerdown', onPointerDown)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 341,
          "text": "return () => window.removeEventListener('scroll', onScroll)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "loop",
          "line": 141,
          "text": "const loop = (ts) => {",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 240,
          "text": "animFrameRef.current = requestAnimationFrame(loop)",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 243,
          "text": "animFrameRef.current = requestAnimationFrame(loop)",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "onScroll",
          "line": 306,
          "text": "const onScroll = () => {",
          "why": "Проверь, нет ли setState/измерений внутри"
        }
      ]
    },
    {
      "file": "C:\\Users\\BETEP\\OneDrive\\Рабочий стол\\quantuml7ai_fullstarter\\app\\academy\\AcademyExamBlock.js",
      "counts": {
        "setInterval": 1,
        "clearInterval": 1,
        "setTimeout": 3,
        "addEventListener": 4,
        "removeEventListener": 2
      },
      "flags": [
        "⚠ addEventListener > removeEventListener (возможная утечка)"
      ],
      "hits": [
        {
          "key": "setInterval",
          "line": 483,
          "text": "const id = setInterval(function () {",
          "why": "Может плодиться/не чиститься → утечки/нагрузка"
        },
        {
          "key": "clearInterval",
          "line": 487,
          "text": "clearInterval(id)",
          "why": "Проверяем парность с setInterval"
        },
        {
          "key": "setTimeout",
          "line": 99,
          "text": "setTimeout(function () {",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 733,
          "text": "setTimeout(async function () {",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 813,
          "text": "setTimeout(function () {",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "addEventListener",
          "line": 96,
          "text": "window.addEventListener('auth:ok', done, { once: true })",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 97,
          "text": "window.addEventListener('auth:success', done, { once: true })",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 607,
          "text": "window.addEventListener('auth:ok', handleAuthEvent)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 608,
          "text": "window.addEventListener('auth:success', handleAuthEvent)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "removeEventListener",
          "line": 611,
          "text": "window.removeEventListener('auth:ok', handleAuthEvent)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 612,
          "text": "window.removeEventListener('auth:success', handleAuthEvent)",
          "why": "Проверяем парность с add"
        }
      ]
    },
    {
      "file": "C:\\Users\\BETEP\\OneDrive\\Рабочий стол\\quantuml7ai_fullstarter\\app\\api\\forum\\events\\stream\\route.js",
      "counts": {
        "setInterval": 1,
        "clearInterval": 1,
        "setTimeout": 2,
        "addEventListener": 1,
        "loop": 2
      },
      "flags": [
        "⚠ addEventListener > removeEventListener (возможная утечка)"
      ],
      "hits": [
        {
          "key": "setInterval",
          "line": 121,
          "text": "const hb = setInterval(() => {",
          "why": "Может плодиться/не чиститься → утечки/нагрузка"
        },
        {
          "key": "clearInterval",
          "line": 126,
          "text": "clearInterval(hb)",
          "why": "Проверяем парность с setInterval"
        },
        {
          "key": "setTimeout",
          "line": 80,
          "text": "await new Promise((r) => setTimeout(r, waitMs))",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 87,
          "text": "await new Promise((r) => setTimeout(r, waitMs))",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "addEventListener",
          "line": 135,
          "text": "else signal.addEventListener('abort', close, { once: true })",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "loop",
          "line": 57,
          "text": "const loop = async () => {",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 94,
          "text": "loop().finally(() => { S.subRunning = false })",
          "why": "Loop особенно опасен на множестве карточек"
        }
      ]
    },
    {
      "file": "C:\\Users\\BETEP\\OneDrive\\Рабочий стол\\quantuml7ai_fullstarter\\app\\components\\CryptoNewsLens.jsx",
      "counts": {
        "setInterval": 1,
        "clearInterval": 4,
        "setTimeout": 1,
        "addEventListener": 2,
        "removeEventListener": 2
      },
      "flags": [],
      "hits": [
        {
          "key": "setInterval",
          "line": 779,
          "text": "progressTimerRef.current = setInterval(() => {",
          "why": "Может плодиться/не чиститься → утечки/нагрузка"
        },
        {
          "key": "clearInterval",
          "line": 772,
          "text": "if (progressTimerRef.current) clearInterval(progressTimerRef.current)",
          "why": "Проверяем парность с setInterval"
        },
        {
          "key": "clearInterval",
          "line": 785,
          "text": "clearInterval(progressTimerRef.current)",
          "why": "Проверяем парность с setInterval"
        },
        {
          "key": "clearInterval",
          "line": 805,
          "text": "clearInterval(progressTimerRef.current)",
          "why": "Проверяем парность с setInterval"
        },
        {
          "key": "clearInterval",
          "line": 824,
          "text": "clearInterval(progressTimerRef.current)",
          "why": "Проверяем парность с setInterval"
        },
        {
          "key": "setTimeout",
          "line": 790,
          "text": "timerRef.current = setTimeout(() => {",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "addEventListener",
          "line": 916,
          "text": "document.addEventListener('mousedown', onClickOutside)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 934,
          "text": "window.addEventListener('keydown', onKeyDown)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "removeEventListener",
          "line": 917,
          "text": "return () => document.removeEventListener('mousedown', onClickOutside)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 935,
          "text": "return () => window.removeEventListener('keydown', onKeyDown)",
          "why": "Проверяем парность с add"
        }
      ]
    },
    {
      "file": "C:\\Users\\BETEP\\OneDrive\\Рабочий стол\\quantuml7ai_fullstarter\\components\\InviteFriendProvider.jsx",
      "counts": {
        "setInterval": 1,
        "clearInterval": 1,
        "addEventListener": 4,
        "removeEventListener": 4,
        "wheel": 1
      },
      "flags": [],
      "hits": [
        {
          "key": "setInterval",
          "line": 207,
          "text": "const id = window.setInterval(() => {",
          "why": "Может плодиться/не чиститься → утечки/нагрузка"
        },
        {
          "key": "clearInterval",
          "line": 225,
          "text": "window.clearInterval(id)",
          "why": "Проверяем парность с setInterval"
        },
        {
          "key": "addEventListener",
          "line": 155,
          "text": "window.addEventListener('auth:ok', handleAuth)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 156,
          "text": "window.addEventListener('auth:success', handleAuth)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 176,
          "text": "window.addEventListener('invite:open', handler)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 195,
          "text": "events.forEach((ev) => window.addEventListener(ev, onActivity))",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "removeEventListener",
          "line": 159,
          "text": "window.removeEventListener('auth:ok', handleAuth)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 160,
          "text": "window.removeEventListener('auth:success', handleAuth)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 178,
          "text": "window.removeEventListener('invite:open', handler)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 197,
          "text": "events.forEach((ev) => window.removeEventListener(ev, onActivity))",
          "why": "Проверяем парность с add"
        },
        {
          "key": "wheel",
          "line": 193,
          "text": "const events = ['pointerdown', 'keydown', 'wheel', 'touchstart', 'focus', 'scroll', 'visibilitychange']",
          "why": "Wheel обработчики могут грузить"
        }
      ]
    },
    {
      "file": "C:\\Users\\BETEP\\OneDrive\\Рабочий стол\\quantuml7ai_fullstarter\\components\\NotRobot.jsx",
      "counts": {
        "setInterval": 1,
        "clearInterval": 1,
        "setTimeout": 4,
        "addEventListener": 1,
        "removeEventListener": 1,
        "<img": 2
      },
      "flags": [],
      "hits": [
        {
          "key": "setInterval",
          "line": 131,
          "text": "rbCountdownIntervalRef.current = setInterval(() => {",
          "why": "Может плодиться/не чиститься → утечки/нагрузка"
        },
        {
          "key": "clearInterval",
          "line": 109,
          "text": "clearInterval(rbCountdownIntervalRef.current);",
          "why": "Проверяем парность с setInterval"
        },
        {
          "key": "setTimeout",
          "line": 137,
          "text": "setTimeout(() => {",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 208,
          "text": "rbIdleTimeoutRef.current = setTimeout(() => {",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 246,
          "text": "setTimeout(() => {",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 284,
          "text": "rbFirstShowTimeoutRef.current = setTimeout(() => {",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "addEventListener",
          "line": 307,
          "text": "window.addEventListener(evt, activityHandler, { passive: true })",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "removeEventListener",
          "line": 315,
          "text": "window.removeEventListener(evt, activityHandler)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "<img",
          "line": 378,
          "text": "<img",
          "why": "Картинки без lazy часто убивают память"
        },
        {
          "key": "<img",
          "line": 404,
          "text": "<img",
          "why": "Картинки без lazy часто убивают память"
        }
      ]
    },
    {
      "file": "C:\\Users\\BETEP\\OneDrive\\Рабочий стол\\quantuml7ai_fullstarter\\public\\compat.js",
      "counts": {
        "setInterval": 1,
        "clearInterval": 1,
        "addEventListener": 3
      },
      "flags": [
        "⚠ addEventListener > removeEventListener (возможная утечка)"
      ],
      "hits": [
        {
          "key": "setInterval",
          "line": 41,
          "text": "const t = setInterval(() => {",
          "why": "Может плодиться/не чиститься → утечки/нагрузка"
        },
        {
          "key": "clearInterval",
          "line": 43,
          "text": "if (setTmaFlag() || tries >= maxTries) clearInterval(t);",
          "why": "Проверяем парность с setInterval"
        },
        {
          "key": "addEventListener",
          "line": 53,
          "text": "window.addEventListener('resize', setVhVars);",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 87,
          "text": "document.addEventListener('click', (e) => {",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 116,
          "text": "document.addEventListener('click', (e) => {",
          "why": "Если без remove → утечки и лаги"
        }
      ]
    },
    {
      "file": "C:\\Users\\BETEP\\OneDrive\\Рабочий стол\\quantuml7ai_fullstarter\\app\\ads\\page.jsx",
      "counts": {
        "querySelectorAll": 1,
        "addEventListener": 1,
        "removeEventListener": 1
      },
      "flags": [],
      "hits": [
        {
          "key": "querySelectorAll",
          "line": 66,
          "text": "const imgs = root.querySelectorAll('img[data-anim=\"1\"]')",
          "why": "Может быть дорого/часто вызываться"
        },
        {
          "key": "addEventListener",
          "line": 107,
          "text": "img.addEventListener('mouseenter', onEnter)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "removeEventListener",
          "line": 117,
          "text": "img.removeEventListener('mouseenter', onEnter)",
          "why": "Проверяем парность с add"
        }
      ]
    },
    {
      "file": "C:\\Users\\BETEP\\OneDrive\\Рабочий стол\\quantuml7ai_fullstarter\\app\\ads.js",
      "counts": {
        "setTimeout": 1
      },
      "flags": [],
      "hits": [
        {
          "key": "setTimeout",
          "line": 126,
          "text": "timer = setTimeout(() => {",
          "why": "Может заспамить ререндер/таймеры"
        }
      ]
    },
    {
      "file": "C:\\Users\\BETEP\\OneDrive\\Рабочий стол\\quantuml7ai_fullstarter\\app\\api\\quotes\\route.js",
      "counts": {
        "setTimeout": 2
      },
      "flags": [],
      "hits": [
        {
          "key": "setTimeout",
          "line": 34,
          "text": "const sleep = (ms) => new Promise(r => setTimeout(r, ms))",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 38,
          "text": "const id = setTimeout(() => reject(new Error('timeout')), ms)",
          "why": "Может заспамить ререндер/таймеры"
        }
      ]
    },
    {
      "file": "C:\\Users\\BETEP\\OneDrive\\Рабочий стол\\quantuml7ai_fullstarter\\app\\forum\\page.js",
      "counts": {
        "loading=lazy": 1,
        "decoding=async": 1,
        "onScroll": 1
      },
      "flags": [],
      "hits": [
        {
          "key": "loading=lazy",
          "line": 87,
          "text": "loading=\"lazy\"",
          "why": "Ищем где НЕ lazy"
        },
        {
          "key": "decoding=async",
          "line": 88,
          "text": "decoding=\"async\"",
          "why": "Полезно для img"
        },
        {
          "key": "onScroll",
          "line": 170,
          "text": "onScroll={handleScroll}",
          "why": "Проверь, нет ли setState/измерений внутри"
        }
      ]
    },
    {
      "file": "C:\\Users\\BETEP\\OneDrive\\Рабочий стол\\quantuml7ai_fullstarter\\app\\subscribe\\subscribe.client.jsx",
      "counts": {
        "setTimeout": 2,
        "addEventListener": 5,
        "removeEventListener": 3
      },
      "flags": [
        "⚠ addEventListener > removeEventListener (возможная утечка)"
      ],
      "hits": [
        {
          "key": "setTimeout",
          "line": 36,
          "text": "setTimeout(()=> resolve(getAcc()), 120000)",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 225,
          "text": "setTimeout(() => { refreshVip() }, 5000)",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "addEventListener",
          "line": 34,
          "text": "window.addEventListener('auth:ok', done, { once:true })",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 35,
          "text": "window.addEventListener('auth:success', done, { once:true })",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 209,
          "text": "window.addEventListener('focus', onFocus)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 210,
          "text": "document.addEventListener('visibilitychange', onVis)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 211,
          "text": "window.addEventListener('auth:ok', onAuth)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "removeEventListener",
          "line": 213,
          "text": "window.removeEventListener('focus', onFocus)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 214,
          "text": "document.removeEventListener('visibilitychange', onVis)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 215,
          "text": "window.removeEventListener('auth:ok', onAuth)",
          "why": "Проверяем парность с add"
        }
      ]
    },
    {
      "file": "C:\\Users\\BETEP\\OneDrive\\Рабочий стол\\quantuml7ai_fullstarter\\components\\AuthNavClient.jsx",
      "counts": {
        "setTimeout": 1,
        "addEventListener": 2,
        "removeEventListener": 2,
        "<img": 1
      },
      "flags": [],
      "hits": [
        {
          "key": "setTimeout",
          "line": 319,
          "text": "const delay = (ms) => new Promise(r => setTimeout(r, ms))",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "addEventListener",
          "line": 187,
          "text": "window.addEventListener('auth:ok', onAuthOk)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 200,
          "text": "window.addEventListener('open-auth', handler)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "removeEventListener",
          "line": 188,
          "text": "return () => window.removeEventListener('auth:ok', onAuthOk)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 201,
          "text": "return () => window.removeEventListener('open-auth', handler)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "<img",
          "line": 388,
          "text": "<img",
          "why": "Картинки без lazy часто убивают память"
        }
      ]
    },
    {
      "file": "C:\\Users\\BETEP\\OneDrive\\Рабочий стол\\quantuml7ai_fullstarter\\components\\HeroAvatar.js",
      "counts": {
        "setTimeout": 2,
        "addEventListener": 1,
        "removeEventListener": 1,
        "<img": 2
      },
      "flags": [],
      "hits": [
        {
          "key": "setTimeout",
          "line": 76,
          "text": "setTimeout(spawn, spawnEvery)",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "setTimeout",
          "line": 78,
          "text": "const t = setTimeout(spawn, 0)",
          "why": "Может заспамить ререндер/таймеры"
        },
        {
          "key": "addEventListener",
          "line": 93,
          "text": "window.addEventListener('mousemove', onMove)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "removeEventListener",
          "line": 94,
          "text": "return () => window.removeEventListener('mousemove', onMove)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "<img",
          "line": 138,
          "text": "{/* ПОСТЕР: всегда обычный <img>, без next/image оптимизации */}",
          "why": "Картинки без lazy часто убивают память"
        },
        {
          "key": "<img",
          "line": 142,
          "text": "<img",
          "why": "Картинки без lazy часто убивают память"
        }
      ]
    },
    {
      "file": "C:\\Users\\BETEP\\OneDrive\\Рабочий стол\\quantuml7ai_fullstarter\\components\\i18n.js",
      "counts": {
        "loop": 45
      },
      "flags": [],
      "hits": [
        {
          "key": "loop",
          "line": 72,
          "text": "`Quantum L7 AI is a cross-platform ecosystem: the AI core, autonomous L7 agents, on-chain monitoring, normalized market feeds, the forum social network, and the QCoin economy are combined into a single computational fabric. Every artifact — a transaction, a news narrative, a post, a liquidity chart — enters the common data loop and becomes a call to action.`,",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 77,
          "text": "`The forum is embedded into the loop: content passes AI scoring (quality, engagement, anti-spam/anti-sybil), and activity is mapped into the QCoin economy. This is not a “social network for likes” but a targeted cognitive bus where knowledge and contribution are converted into tokenized value.`,",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 11586,
          "text": "qa_ai_1210_q: 'What does \"human-in-the-loop\" mean?',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 12141,
          "text": "qa_meta_1395_q: 'What is the \"user feedback loop\" for definitions?',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 12354,
          "text": "qa_ai_1466_q: 'What does \"human-in-the-loop moderation of knowledge\" mean?',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 12690,
          "text": "qa_meta_1578_q: 'What does \"continuous reasoning loop\" mean?',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 13050,
          "text": "qa_meta_1698_q: 'What does \"education arbitrage loop\" mean?',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 13152,
          "text": "qa_meta_1732_q: 'What does \"collective cognition loop\" mean?',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 13153,
          "text": "qa_meta_1732_a: 'A closed loop in which the community trains AI, and AI trains the community, reinforcing shared understanding.',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 16034,
          "text": "qa_ai_1210_q: 'Что означает “human-in-the-loop”?',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 16589,
          "text": "qa_meta_1395_q: 'Что такое “user feedback loop” для определений?',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 16802,
          "text": "qa_ai_1466_q: 'Что означает “human-in-the-loop модерация знаний”?',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 17138,
          "text": "qa_meta_1578_q: 'Что означает “continuous reasoning loop”?',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 17497,
          "text": "qa_meta_1698_q: 'Что означает “education arbitrage loop”?',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 17599,
          "text": "qa_meta_1732_q: 'Что означает “collective cognition loop”?',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 20465,
          "text": "qa_ai_1210_q: 'Що означає “human-in-the-loop”?',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 21020,
          "text": "qa_meta_1395_q: 'Що таке “user feedback loop” для определений?',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 21233,
          "text": "qa_ai_1466_q: 'Що означає “human-in-the-loop модерація знань”?',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 21569,
          "text": "qa_meta_1578_q: 'Що означає “continuous reasoning loop”?',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 21929,
          "text": "qa_meta_1698_q: 'Що означає “education arbitrage loop”?',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 22031,
          "text": "qa_meta_1732_q: 'Що означає “collective cognition loop”?',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 24897,
          "text": "qa_ai_1210_q: '¿Qué significa “human-in-the-loop”?',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 25452,
          "text": "qa_meta_1395_q: '¿Qué es el “user feedback loop” para definiciones?',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 25665,
          "text": "qa_ai_1466_q: '¿Qué significa “human-in-the-loop moderación del conocimiento”?',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 26001,
          "text": "qa_meta_1578_q: '¿Qué significa “continuous reasoning loop”?',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 26361,
          "text": "qa_meta_1698_q: '¿Qué significa “education arbitrage loop”?',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 26463,
          "text": "qa_meta_1732_q: '¿Qué significa “collective cognition loop”?',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 29333,
          "text": "qa_ai_1210_q: '“human-in-the-loop” 是什么意思？',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 29888,
          "text": "qa_meta_1395_q: '什么是 “user feedback loop” 对定义？',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 30101,
          "text": "qa_ai_1466_q: '“human-in-the-loop 知识审核” 是什么意思？',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 30437,
          "text": "qa_meta_1578_q: '“continuous reasoning loop” 是什么意思？',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 30797,
          "text": "qa_meta_1698_q: '“education arbitrage loop” 是什么意思？',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 30899,
          "text": "qa_meta_1732_q: '“collective cognition loop” 是什么意思？',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 33769,
          "text": "qa_ai_1210_q: 'ماذا يعني “human-in-the-loop”?',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 34324,
          "text": "qa_meta_1395_q: 'ما هو “user feedback loop” للتعريفات؟',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 34537,
          "text": "qa_ai_1466_q: 'ماذا يعني \"human-in-the-loop модерация знаний\"?',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 34873,
          "text": "qa_meta_1578_q: 'ماذا يعني \"continuous reasoning loop\"?',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 35233,
          "text": "qa_meta_1698_q: 'ماذا يعني \"education arbitrage loop\"?',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 35335,
          "text": "qa_meta_1732_q: 'ماذا يعني \"collective cognition loop\"?',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 38205,
          "text": "qa_ai_1210_q: '\"human-in-the-loop\" ne anlama gelir?',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 38760,
          "text": "qa_meta_1395_q: '\"user feedback loop\" (tanımlar için) nedir?',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 38973,
          "text": "qa_ai_1466_q: '“human-in-the-loop bilgi moderasyonu” ne anlama geliyor?',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 39309,
          "text": "qa_meta_1578_q: '“continuous reasoning loop” ne anlama geliyor?',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 39669,
          "text": "qa_meta_1698_q: '“education arbitrage loop” ne anlama gelir?',",
          "why": "Loop особенно опасен на множестве карточек"
        },
        {
          "key": "loop",
          "line": 39771,
          "text": "qa_meta_1732_q: '“collective cognition loop” ne anlama gelir?',",
          "why": "Loop особенно опасен на множестве карточек"
        }
      ]
    },
    {
      "file": "C:\\Users\\BETEP\\OneDrive\\Рабочий стол\\quantuml7ai_fullstarter\\components\\InviteFriendPopup.jsx",
      "counts": {
        "addEventListener": 2,
        "removeEventListener": 2
      },
      "flags": [],
      "hits": [
        {
          "key": "addEventListener",
          "line": 35,
          "text": "window.addEventListener('resize', handleResize)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "addEventListener",
          "line": 61,
          "text": "window.addEventListener('keydown', handleKey)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "removeEventListener",
          "line": 36,
          "text": "return () => window.removeEventListener('resize', handleResize)",
          "why": "Проверяем парность с add"
        },
        {
          "key": "removeEventListener",
          "line": 62,
          "text": "return () => window.removeEventListener('keydown', handleKey)",
          "why": "Проверяем парность с add"
        }
      ]
    },
    {
      "file": "C:\\Users\\BETEP\\OneDrive\\Рабочий стол\\quantuml7ai_fullstarter\\components\\TopBar.js",
      "counts": {
        "addEventListener": 1
      },
      "flags": [
        "⚠ addEventListener > removeEventListener (возможная утечка)"
      ],
      "hits": [
        {
          "key": "addEventListener",
          "line": 34,
          "text": "window.addEventListener('auth:logout', onLogout)",
          "why": "Если без remove → утечки и лаги"
        }
      ]
    },
    {
      "file": "C:\\Users\\BETEP\\OneDrive\\Рабочий стол\\quantuml7ai_fullstarter\\components\\UnlimitModal.client.jsx",
      "counts": {
        "addEventListener": 1,
        "removeEventListener": 1
      },
      "flags": [],
      "hits": [
        {
          "key": "addEventListener",
          "line": 10,
          "text": "window.addEventListener('keydown', onKey)",
          "why": "Если без remove → утечки и лаги"
        },
        {
          "key": "removeEventListener",
          "line": 11,
          "text": "return () => window.removeEventListener('keydown', onKey)",
          "why": "Проверяем парность с add"
        }
      ]
    }
  ]
}