/* ===== Base ===== */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;background:#05070e;color:#e6f0ff;
  font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Inter,"Helvetica Neue",Arial;
  overflow-x:hidden;
}

/* ===== Hero background (video + effects) ===== */
.scene{position:fixed;inset:0;width:100%;height:100%;overflow:hidden;z-index:0}
.bg-video{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;filter:saturate(1.05)}
.stars{
  position:absolute;inset:0;pointer-events:none;z-index:1;
  background:
    radial-gradient(circle at 50% 50%, rgba(255,255,255,.06), transparent 70%),
    radial-gradient(circle at 22% 28%, rgba(0,160,255,.14), transparent 55%),
    radial-gradient(circle at 78% 72%, rgba(0,160,255,.1), transparent 55%);
}

/* ===== Floating crypto tickers ===== */
.tickers{position:absolute;inset:0;pointer-events:none;z-index:3}
.ticker{
  position:absolute;top:0;
  color:#c9f1ff;font-weight:800;letter-spacing:.02em;
  text-shadow:0 0 8px rgba(64,200,255,.9),0 0 14px rgba(0,160,255,.45);
  -webkit-text-stroke:.6px rgba(0,25,40,.6);
  opacity:var(--opacity,.95);
  --dx:0px;--dur:20s;--delay:0s;--floatx:14px;
  transform:translate3d(var(--dx),100vh,0);
  will-change:transform,opacity,filter;
  animation: floatUpDrift var(--dur) linear forwards;
  animation-delay: var(--delay);
}
@keyframes floatUpDrift{
  0%   { transform: translate3d(var(--dx),100vh,0); opacity:0 }
  12%  { opacity: var(--opacity,.95) }
  35%  { transform: translate3d(calc(var(--dx) + var(--floatx)),62vh,0) }
  65%  { transform: translate3d(calc(var(--dx) - var(--floatx)),28vh,0) }
  100% { transform: translate3d(var(--dx),-12vh,0); opacity:0 }
}

/* Subtle glows */
.glow{position:absolute;border-radius:50%;background:radial-gradient(circle,rgba(0,200,255,.85),transparent 70%);z-index:2;mix-blend-mode:screen;pointer-events:none}
.glow.eye.left{width:42px;height:42px;top:38%;left:41%}
.glow.eye.right{width:42px;height:42px;top:38%;right:41%}
.glow.chest{width:90px;height:90px;bottom:30%;left:50%;transform:translateX(-50%)}

/* ===== Content layer ===== */
 .page-content{
   position:relative; z-index:5; min-height:100dvh;
   /* безопасный отступ сверху: базовый + safe-area + ручная докрутка */
   padding: calc(20px + env(safe-area-inset-top, 0px) + var(--miniapp-top-offset, 40px)) 24px 64px;
 }

/* TopBar */
.topbar{
  display:flex;align-items:center;justify-content:space-between;gap:12px;padding:8px 4px 14px;

  /* === настройки размера навигации === */
  --nav-font-size: 20px;   /* размер текста пунктов меню */
  --nav-pad-y: 6px;        /* вертикальные отступы кликабельной зоны */
  --nav-pad-x: 4px;       /* горизонтальные отступы кликабельной зоны */
}
.topbar .brand{letter-spacing:.08em;font-weight:800;opacity:.95}

.topbar nav{
  display:flex;gap:16px;align-items:center;flex-wrap:wrap;
  font-size: var(--nav-font-size); /* все ссылки наследуют этот размер */
}

.topbar a{
  color:#f9f4f4;text-decoration:none;opacity:.9;
  font-size: inherit;                /* берём размер из nav */
  line-height:1;
  padding: var(--nav-pad-y) var(--nav-pad-x); /* увеличиваем кликабельную область */
  border-radius:8px;
}
.topbar a:hover{opacity:1}

.lang-switch{
  background:transparent;border:1px solid rgba(157,220,255,.35);
  color:#cfe7ff;padding:6px 10px;border-radius:8px;cursor:pointer;
  font-size:14px
}
.lang-switch:hover{background:rgba(157,220,255,.15)}

/* компакт на узких экранах — можно переопределить переменные */
@media (max-width: 480px){
  .topbar{
    --nav-font-size: 20px;
    --nav-pad-y: 6px;
    --nav-pad-x: 4px;
  }
  .lang-switch{ font-size:13px }
}


/* Panels */
.panel{
  width:min(1100px,94vw);
  background:linear-gradient(180deg,rgba(7,12,20,.65),rgba(7,12,20,.35));
  border:1px solid rgba(157,220,255,.14);
  border-radius:16px;backdrop-filter:blur(6px);
  padding:22px 24px;box-shadow:0 12px 28px rgba(0,0,0,.35),inset 0 1px 0 rgba(255,255,255,.05);
  margin:18px 0 24px
}
.panel h1{margin:4px 0 14px;font-size:clamp(26px,3.6vw,38px)}
.panel h2{margin:2px 0 10px;font-size:clamp(20px,2.8vw,28px)}
.panel p{margin:8px 0 10px;color:#cfe1ff;line-height:1.6}
.panel .row{display:flex;gap:10px;margin-top:10px;flex-wrap:wrap}
.panel-narrow{width:min(880px,94vw)}
.btn{display:inline-flex;align-items:center;justify-content:center;padding:10px 16px;border-radius:12px;background:#039cfb38;color:#f9fbfc;font-weight:800;text-decoration:none;border:none;box-shadow:0 8px 18px rgb(250, 221, 3)}
.btn:hover{filter:brightness(1.05);transform:translateY(-1px)}
.btn.ghost{background:transparent;border:1px solid rgb(3, 235, 248);color:#cfe7ff;box-shadow:none}

/* Lists */
ul.bullets{padding-left:20px}
ul.bullets li{margin:6px 0}

/* Marquee */
.marquee-wrap{position:relative;width:100%;overflow:hidden;margin-top:10px;z-index:6}
.marquee{display:inline-flex;gap:48px;white-space:nowrap;animation:marquee 60s linear infinite;opacity:.9;mask-image:linear-gradient(90deg,transparent,#fff 7%,#fff 93%,transparent)}
.marquee span{font-size:clamp(14px,1.4vw,17px);color:#d9ecff;opacity:.92}
@keyframes marquee{0%{transform:translateX(0)}100%{transform:translateX(-100%)}}

/* Exchange canvas box */
.chart-wrap{width:min(1100px,94vw);height:min(560px,60vh);border:1px solid rgba(157,220,255,.14);border-radius:16px;overflow:hidden;background:linear-gradient(180deg,rgba(8,12,20,.6),rgba(8,12,20,.35));box-shadow:0 10px 24px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.05)}
.chart-wrap canvas{display:block;width:100%;height:100%}
.badge{display:inline-block;padding:4px 8px;border-radius:8px;background:rgba(0,194,255,.15);border:1px solid rgba(0,194,255,.35);color:#cfe7ff;font-size:12px}

/* Contact cards */
.contact-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:14px}
.contact-card{background:rgba(7,12,20,.5);border:1px solid rgba(157,220,255,.14);border-radius:12px;padding:14px}

/* Responsive */
@media (max-width:720px){
  .page-content{
    padding: calc(12px + env(safe-area-inset-top, 0px) + var(--miniapp-top-offset, 0px)) 12px 48px;
  }  .topbar nav{gap:12px}
  .panel{padding:16px 14px}
}

/* === Planet language switcher === */
.planet-lang{
  --size: 42px;
  --glow: 0, 192, 255;
  --pulse: 255, 188, 72;
  width: var(--size);
  height: var(--size);
  border-radius: 999px;
  display: inline-grid;
  place-items: center;
  border: 1px solid rgba(157,220,255,.35);
  background:
    radial-gradient(120% 120% at 30% 30%, rgba(255,255,255,.14), rgba(255,255,255,0) 60%),
    radial-gradient(100% 100% at 70% 70%, rgba(var(--glow),.16), rgba(var(--glow),0) 60%),
    linear-gradient(180deg, rgba(0,35,60,.25), rgba(0,35,60,.35));
  box-shadow:
    inset 0 0 20px rgba(0,180,255,.18),
    0 8px 20px rgba(0,0,0,.35);
  cursor: pointer;
  position: relative;
  overflow: hidden;
  transition: transform .18s ease, filter .18s ease;
}
.planet-lang:hover{ transform: translateY(-1px) scale(1.03) }
.planet-lang:active{ transform: scale(.98) }
.planet-lang::after{
  content:"";
  position:absolute; inset:-14%;
  border-radius:inherit;
  background:
    radial-gradient(circle at 32% 28%, rgba(255,255,255,.18), transparent 42%),
    radial-gradient(circle at 70% 72%, rgba(0,255,255,.12), transparent 52%);
  mix-blend-mode: screen; pointer-events:none;
}
.planet-lang::before{
  content:"";
  position:absolute; inset:-35%;
  border-radius:inherit;
  background: radial-gradient(circle, rgba(var(--pulse),.40), rgba(var(--pulse),0) 60%);
  transform: scale(.55);
  opacity: 0;
  animation: planetPulse 3.2s ease-in-out infinite;
}
@keyframes planetPulse{
  0%   { transform:scale(.55); opacity:0 }
  35%  { opacity:.55 }
  60%  { opacity:.14 }
  100% { transform:scale(1); opacity:0 }
}
@media (prefers-reduced-motion: reduce){
  .planet-lang::before{ animation:none; opacity:0 }
}
.planet-core{
  position: relative; z-index: 1;
  color:#e6f4ff; font-weight:900; letter-spacing:.06em;
  font-size: 12px; user-select:none;
  text-shadow: 0 0 6px rgba(64,200,255,.7);
}
.planet-lang[data-lang="ru"]{ --pulse: 255, 160, 90 }
.planet-lang[data-lang="en"]{ --pulse: 180, 220, 255 }

/* === Background audio control === */
.audio-toggle{
  position: fixed; left: 14px; bottom: 14px; z-index: 60;
  width: 44px; height: 44px; border-radius: 999px;
  display: grid; place-items: center;
  background:
    radial-gradient(120% 120% at 30% 30%, rgba(255,255,255,.12), rgba(255,255,255,0) 60%),
    radial-gradient(100% 100% at 70% 70%, rgba(0,200,255,.16), rgba(0,200,255,0) 60%),
    linear-gradient(180deg, rgba(0,35,60,.25), rgba(0,35,60,.35));
  border: 1px solid rgba(157,220,255,.35);
  color:#e6f4ff; cursor:pointer; user-select:none;
  box-shadow: inset 0 0 18px rgba(0,180,255,.16), 0 8px 20px rgba(0,0,0,.35);
  transition: transform .18s ease, filter .18s ease, box-shadow .18s ease;
}
.audio-toggle:hover{ transform: translateY(-1px) scale(1.03) }
.audio-toggle:active{ transform: scale(.98) }
.audio-toggle .ico{ font-size: 18px; filter: drop-shadow(0 0 6px rgba(64,200,255,.7)); }

.audio-toggle.on{ animation: audioPulse 3s ease-out infinite; }
@keyframes audioPulse{
  0%   { box-shadow: inset 0 0 18px rgba(0,180,255,.16), 0 0 0 0 rgba(0,194,255,.35) }
  60%  { box-shadow: inset 0 0 18px rgba(0,180,255,.16), 0 0 0 12px rgba(0,194,255,0) }
  100% { box-shadow: inset 0 0 18px rgba(0,180,255,.16), 0 0 0 0 rgba(0,194,255,0) }
}
@media (prefers-reduced-motion: reduce){
  .audio-toggle.on{ animation:none }
}

/* === Brand logo (PNG) === */
.topbar .brand{ display:flex; align-items:center }
.topbar .brand-logo{
  display:block;
  height:180px;
  width:auto;
  image-rendering:auto;
  filter:
    drop-shadow(0 0 6px rgba(64,200,255,.55))
    drop-shadow(0 0 14px rgba(150,80,255,.22));
  animation: ql7LogoPulse 3.4s ease-in-out infinite;
  will-change: filter, transform;
}
.topbar .brand-logo:hover{ transform: translateY(-1px) }
@keyframes ql7LogoPulse{
  0%{
    filter:
      drop-shadow(0 0 6px rgba(64,200,255,.55))
      drop-shadow(0 0 14px rgba(150,80,255,.22))
      saturate(1.0) brightness(1.0);
  }
  50%{
    filter:
      drop-shadow(0 0 10px rgba(64,200,255,.85))
      drop-shadow(0 0 24px rgba(150,80,255,.35))
      saturate(1.12) brightness(1.06);
  }
  100%{
    filter:
      drop-shadow(0 0 6px rgba(64,200,255,.55))
      drop-shadow(0 0 14px rgba(150,80,255,.22))
      saturate(1.0) brightness(1.0);
  }
}
@media (prefers-reduced-motion: reduce){
  .topbar .brand-logo{ animation:none }
}

/* ——— Убираем «синюю кликабельность» у ссылки-логотипа ——— */
/* сама ссылка внутри topbar */
.topbar a.brand{
  -webkit-tap-highlight-color: transparent; /* iOS/Android WebKit синий overlay */
  outline: none !important;
  box-shadow: none !important;
  background: transparent !important;
}
/* фокус по Tab — тоже без синего бокса */
.topbar a.brand:focus,
.topbar a.brand:focus-visible{
  outline: none !important;
  box-shadow: none !important;
}
/* на всякий — и по изображению убираем tap-highlight/drag */
.topbar a.brand img{
  -webkit-tap-highlight-color: transparent;
  user-select: none;
  -webkit-user-drag: none;
} 
/* === Telegram card tape in hero — responsive like quantum-shot === */
.tg-tape{
  display:block;
  width:100%;          /* тянем на ширину панели */
  height:auto;         /* сохраняем пропорции исходника */
  aspect-ratio: 16 / 9;/* одинаковое «окно» на всех экранах */
  object-fit: cover;   /* заполняем окно без искажений */
  margin:14px auto 0;
  border-radius:12px;
  border:1px solid rgba(157,220,255,.18);
  box-shadow:0 10px 24px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.06);
  image-rendering:auto;
}
@media (max-width:720px){
  .tg-tape{ margin:12px auto 0; border-radius:10px }
}


/* перенос строк через CSS вместо inline style */
.prewrap{ white-space: pre-line; }
/* About page blocks */
.about-sections { display: grid; gap: 1.25rem; margin-top: 1rem; }
.about-block { padding-top: .75rem; border-top: 1px solid rgba(255,255,255,.08); }
.about-block:first-child { border-top: 0; padding-top: 0; }
.about-block-title { font-size: clamp(1.15rem, 1vw + 1rem, 1.5rem); font-weight: 700; margin: 0 0 .25rem; }
.about-block p { margin: .35rem 0; line-height: 1.65; }
.lang-switch { display:flex; gap:.25rem; align-items:center }
.lang-switch .lang {
  padding:.25rem .5rem; border-radius:.5rem; opacity:.7;
  background:transparent; border:1px solid rgba(255,255,255,.15); color:inherit;
}
.lang-switch .lang.active {
  opacity:1; background:rgba(255,255,255,.1); border-color:rgba(255,255,255,.35);
}
/* === Навбар: усиленный пульс/свечение активного пункта === */
:root{
  --nav-glow-color: #ffb700;              /* базовый оттенок свечения (циан) */
  --nav-glow-strong: rgba(103,232,249,.95);
  --nav-glow-soft:   rgb(5, 214, 251);
  --nav-active-scale: 1.08;               /* насколько увеличивать активную ссылку */
}

/* базовая ссылка — добавим позиционирование для псевдо-элемента */
.topbar .nav-link{
  position: relative;
  transition: color .2s ease, transform .2s ease, filter .2s ease;
  will-change: transform, filter;
}

/* активный пункт: намного ярче + пульс */
.topbar .nav-link.active,
.topbar .nav-link[data-active="true"]{
  color: var(--nav-glow-color);
  font-weight: 800;
  transform: translateZ(0) scale(var(--nav-active-scale));
  /* многоступенчатое свечение текста */
  text-shadow:
    0 0 2px  var(--nav-glow-color),
    0 0 10px var(--nav-glow-color),
    0 0 22px var(--nav-glow-strong),
    0 0 44px var(--nav-glow-strong);
  filter: brightness(1.2) saturate(130%);
  animation: glowPulse 1.25s ease-in-out infinite;
}

/* мягкое «облако» света позади текста */
.topbar .nav-link.active::before,
.topbar .nav-link[data-active="true"]::before{
  content: '';
  position: absolute;
  left: 50%; top: 50%;
  width: 140%;
  height: 220%;
  transform: translate(-50%,-50%) scale(.92);
  border-radius: 999px;
  background: radial-gradient(circle, var(--nav-glow-soft) 0%, transparent 60%);
  filter: blur(18px) saturate(130%);
  opacity: .95;
  mix-blend-mode: screen;                 /* красиво на тёмном фоне */
  pointer-events: none;
  z-index: -1;
  animation: aura 1.25s ease-in-out infinite;
}

/* чуть усилим при ховере/фокусе */
.topbar .nav-link.active:hover,
.topbar .nav-link.active:focus-visible{
  transform: translateZ(0) scale(calc(var(--nav-active-scale) + .02));
  filter: brightness(1.35) saturate(150%);
}

/* Пульс текста */
@keyframes glowPulse{
  0%,100%{
    text-shadow:
      0 0 2px  var(--nav-glow-color),
      0 0 10px var(--nav-glow-color),
      0 0 22px var(--nav-glow-strong),
      0 0 44px var(--nav-glow-strong);
    filter: brightness(1.15) saturate(130%);
  }
  50%{
    text-shadow:
      0 0 4px  var(--nav-glow-color),
      0 0 20px var(--nav-glow-color),
      0 0 42px var(--nav-glow-strong),
      0 0 72px var(--nav-glow-strong);
    filter: brightness(1.45) saturate(160%);
  }
}

/* Пульс «ауры» */
@keyframes aura{
  0%,100%{ transform: translate(-50%,-50%) scale(.92); opacity: .9; }
  50%    { transform: translate(-50%,-50%) scale(1.06); opacity: 1;  }
}

/* уважение к reduced-motion */
@media (prefers-reduced-motion: reduce){
  .topbar .nav-link.active,
  .topbar .nav-link[data-active="true"],
  .topbar .nav-link.active::before,
  .topbar .nav-link[data-active="true"]::before{
    animation: none;
  }
}
/* ---- Inline illustration panel ---- */
.panel--image {
  padding: 0; /* Без внутренних отступов у обёртки */
  background: transparent;
}

.panel--image .panel-img {
  position: relative;          /* обязательно для Image with fill */
  width: 100%;
  aspect-ratio: 16 / 9;        /* 16:9 как просили */
  overflow: hidden;
  border-radius: 18px;
  box-shadow:
    0 10px 30px rgba(0, 0, 0, 0.35),
    0 0 40px rgba(0, 200, 255, 0.15); /* мягкое свечение */
}

.panel--image .panel-img img {
  object-fit: cover;
  transform: scale(1.001);     /* убирает тонкие артефакты на краях */
}

/* Небольшая «дышка» снизу, как у обычных панелей */
.panel--image + .panel {
  margin-top: 18px;
}
/* ===== Responsive media block (16:9 inside .panel) ===== */
.media-block {
  margin: 12px 0 28px;
}

.media-block img {
  display: block;
  width: 100%;
  height: auto;              /* сохраняет пропорции */
  aspect-ratio: 16 / 9;      /* одинаковое окно на любых экранах */
  object-fit: cover;         /* заполняем окно без искажений */
  border-radius: 16px;
  box-shadow: 0 14px 40px -10px rgba(0,0,0,.55);
}

.media-block figcaption {
  margin-top: 8px;
  font-size: .95rem;
  opacity: .85;
}

/* чуть мягче скругление и подпись поменьше на телефонах */
@media (max-width: 640px) {
  .media-block img { border-radius: 12px; }
  .media-block figcaption { font-size: .9rem; }
}
.quantum-shot{width:100%;height:auto;display:block;border-radius:16px}
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
/* === Clickable subscription badges (FREE / PRO / VIP) === */
.badge-cta{
  display:inline-flex;
  align-items:center;
  gap:.35rem;
  padding:.38rem .78rem;
  border-radius:999px;
  font-size:12.5px;
  font-weight:800;
  letter-spacing:.02em;
  line-height:1;
  white-space:nowrap;
  text-decoration:none;

  color:#00121f;
  background:linear-gradient(135deg,#1a86ff 0%, #00d1ff 100%);
  border:1px solid rgba(0,194,255,.65);
  box-shadow:
    0 1px 0 rgba(255,255,255,.35) inset,
    0 8px 20px rgba(0,194,255,.25),
    0 0 24px rgba(0,160,255,.18);
  transition:transform .12s ease, filter .2s ease, box-shadow .2s ease;
}
.badge-cta:hover{
  transform:translateY(-1px);
  filter:brightness(1.06);
  box-shadow:
    0 1px 0 rgba(255,255,255,.45) inset,
    0 12px 26px rgba(0,194,255,.32),
    0 0 34px rgba(0,170,255,.28);
}
.badge-cta:active{
  transform:translateY(0);
  filter:brightness(.96);
}
.badge-cta:focus-visible{
  outline:none;
  box-shadow:
    0 0 0 3px rgba(17,188,255,.55),
    0 10px 28px rgba(17,188,255,.35);
}

/* маленькая «дышка» справа, если бейджи идут подряд в тексте */
.panel .badge-cta{ margin-right:.5rem }
/* responsive 16:9 image block used on Exchange page */
.img16x9{
  position: relative;
  width: 100%;
  aspect-ratio: 16 / 9;        /* современная адаптивность */
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 8px 28px rgba(0,0,0,.35);
}
.img16x9 > img{
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;            /* кадрирование без искажений */
  display: block;
}
/* About: responsive intro video */
.panel .video-wide{
  width: 100%;
  margin: 12px 0 18px;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 8px 28px rgba(0,0,0,.35);
}
.panel .video-wide video{
  display: block;
  width: 100%;
  height: auto;
  aspect-ratio: 16 / 9;    /* подправь под свой ролик при необходимости */
  object-fit: cover;
  background: #0b1020;
  user-select: none;
  -webkit-user-drag: none;
}
/* страховка от случайных перекрытий */
.w3m-modal,
.w3m-overlay {
  z-index: 99999 !important;
}
/* === Fix: Web3Modal clipped on mobile (bottom sheet only shows header) === */
html, body, #__next {
  height: 100%;
}

/* На всякий случай запретим клип для порталов модалки */
#w3m-modal, .w3m-modal {
  position: fixed !important;
  inset: 0 !important;
  z-index: 99999 !important;
  overflow: visible !important;
}

/* Не даём приложению «резать» порталы на мобилках */
@media (max-width: 768px) {
  html, body, #__next {
    overflow: visible !important;
  }
  /* если где-то стоит transform/filter, это создаёт новый stacking context.
     Сбрасываем его для корневых оболочек, чтобы порталы были поверх */
  main, .container, .panel {
    transform: none !important;
    will-change: auto !important;
  }
}
/* --- Web3Modal mobile safety fixes --- */
#w3m-modal, .w3m-modal {
  position: fixed !important;
  inset: 0 !important;
  z-index: 999999 !important;
}

#w3m-modal .w3m-container, .w3m-modal .w3m-container {
  max-height: 100dvh !important; /* чтобы не обрезалось на мобильных */
}

/* если где-то стоит глобальный overflow:hidden у html/body — снимем */
html, body {
  overflow: visible !important;
}
/* Пример (опционально): чтобы вписалась как таб */
.nav-auth-btn {
  margin-left: 0.5rem;
  padding: 0.4rem 0.8rem;
  border-radius: 10px;
  line-height: 1;
}


/* === page-center оставляем как у тебя === */
.page-center{ max-width:1100px; margin:0 auto; padding:20px 16px; }
@media (max-width:640px){ .page-center{ padding:14px 12px; } }

/* === Глобальные гаттеры === */
:root { --gutter: 26px; --miniapp-top-offset: 45px; } /* ↑ докрути тут при необходимости */
@media (min-width:1280px){ :root{ --gutter: 100px; } }
/* Мобайл: микро-гаттер 8px, чтобы ничего не «резалось» по краям */
@media (max-width:640px){ :root{ --gutter: 6px; --miniapp-top-offset: 45px; } }

/* База */
html,body{ margin:0; padding:0; width:100%; min-height:100%; overflow-x:hidden; }
*,*::before,*::after{ box-sizing:border-box; }

/* 1) Единая ширина */
.page-content,
main,section,header,footer,nav,article,aside,
figure,.panel,.container,.content,.wrap,.wrapper,.page,.block,.hero,.card{
  width:100% !important; max-width:100% !important; margin-left:auto !important; margin-right:auto !important;
}

/* 2) Гаттеры (с учётом моб. 8px) */
body > :not(style):not(script):not(.no-gutters),
.page-content,
main:not(.no-gutters),section:not(.no-gutters),header:not(.no-gutters),footer:not(.no-gutters),
nav:not(.no-gutters),article:not(.no-gutters),aside:not(.no-gutters),
figure:not(.no-gutters),.panel:not(.no-gutters),.container:not(.no-gutters),.content:not(.no-gutters),
.wrap:not(.no-gutters),.wrapper:not(.no-gutters),.page:not(.no-gutters),
.block:not(.no-gutters),.hero:not(.no-gutters),.card:not(.no-gutters){
  padding-left:var(--gutter) !important; padding-right:var(--gutter) !important;
}

/* 3) ТОЛЬКО контейнеры в .page-content тянем на 100% */
.page-content > :is(main,section,header,footer,nav,article,aside,div){
  width:100% !important; max-width:100% !important; flex:0 0 auto !important; align-self:stretch !important;
  margin-left:0 !important; margin-right:0 !important;
}

/* 4) Медиа */
img,video,canvas,svg,iframe{ max-width:100% !important; height:auto; display:block; }
pre{ white-space:pre-wrap; word-break:break-word; overflow-x:auto; max-width:100%; }
table{ display:block; width:100% !important; max-width:100% !important; overflow-x:auto; -webkit-overflow-scrolling:touch; }

/* 5) Главная: .center-wrap */
.center-wrap{
  width:100% !important; max-width:100% !important; margin-left:auto !important; margin-right:auto !important;
  padding-left:var(--gutter) !important; padding-right:var(--gutter) !important;
}
.center-wrap .panel, .center-wrap figure.panel{
  width:100% !important; max-width:100% !important; margin-left:0 !important; margin-right:0 !important;
}
.center-wrap figure.panel img{ display:block; width:100%; max-width:100%; height:auto; }

/* 6) Плавающая аудио-кнопка — круг */
button[style*="position:fixed"], button.fixed, .fixed>button, button.fab, .fab>button,
button[class*="audio"], [class*="audio"]>button, button[data-audio], [data-audio]>button{
  width:auto !important; max-width:none !important; height:40px; aspect-ratio:1/1;
  border-radius:9999px !important; padding:0 !important; display:inline-flex; align-items:center; justify-content:center;
}
[class*="audio"][style*="position:fixed"], .fab[style*="position:fixed"], .fixed[style*="position:fixed"]{
  width:auto !important; max-width:none !important;
}

/* === Header: меню вправо + управление логотипом === */

/* НАСТРАИВАЕШЬ ЗДЕСЬ: минимальная / динамическая / максимальная высота лого */
:root { --logo-h: clamp(140px, 30vw, 260px); }

header, .topbar, .header-bar{ display:flex; align-items:center; gap:.5rem; }

/* Логотип — не сжимать, сохранять пропорции, но не выше var(--logo-h) */
header .brand, header .brand-logo, header a.logo{
  display:inline-flex; align-items:center; flex:0 0 auto !important; min-width:auto;
}
header .brand img, header .brand-logo img, header a.logo img,
header img[alt*="logo" i], header img[alt*="quantum" i]{
  width:auto !important; height:auto !important; max-height:var(--logo-h) !important;
  object-fit:contain; flex:0 0 auto !important; display:block;
}
/* если внутри svg без размеров */
header .brand svg, header .brand-logo svg, header a.logo svg{
  max-height:var(--logo-h); width:auto; height:auto;
}

/* Навигация — всегда вправо; может переноситься, не давя лого */
header nav, header .nav, header .menu{
  margin-left:auto !important; display:flex; align-items:center; justify-content:flex-end;
  flex:1 1 auto; min-width:0;
}
header nav ul{ display:flex; flex-wrap:wrap; gap:.5rem; margin:0; padding:0; }
@media (max-width:640px){ header nav ul{ gap:.35rem; } }




/* ==== Auth button in TopBar ========================================= */
.topbar .nav-auth-btn{
  --btn-h: 34px;
  --pad-x: 8px;
  --radius: 999px;
  --ring: 0 0 0 1px rgb(9, 244, 217) inset;

  display: inline-flex;
  align-items: center;
  justify-content: center;

  height: var(--btn-h);
  padding: 0 var(--pad-x);
  margin-left: 10px;

  font-size: 12px;
  font-weight: 700;
  line-height: 1;
  letter-spacing: .01em;
  white-space: nowrap;

  border: 0;
  border-radius: var(--radius);
  cursor: pointer;
  user-select: none;

  transition: transform .08s ease, box-shadow .2s ease, background-color .2s ease, color .2s ease, opacity .2s ease;

  /* базовая «стеклянная» кнопка (переопределяется модами ниже) */
  color: #ffffff;
  background: linear-gradient(180deg, rgb(1, 18, 251), rgba(255,255,255,.02));
  box-shadow: var(--ring), 0 8px 24px rgba(0,0,0,.18);
}

.topbar .nav-auth-btn:active{ transform: translateY(1px) scale(.98); }

/* --- Гость (не авторизован): мигает красным как QCoinX2.needVip --- */
.topbar .nav-auth-btn.is-guest{
  color:#ffffff;
  background: rgba(255,70,70,.18);
  border: 1px solid rgba(255,120,120,.60);
  box-shadow:
    var(--ring),
    0 0 12px rgba(255,70,70,.35);
  animation: blinkPause .9s steps(1) infinite;
}
.topbar .nav-auth-btn.is-guest:hover{
  background: rgba(255,70,70,.24);
  box-shadow:
    var(--ring),
    0 0 18px rgba(255,70,70,.45);
}
@keyframes blinkPause{
  0%,50%{ opacity:1 }
  51%,100%{ opacity:.45 }
}

/* --- Авторизован: золотой «перелив монеты» как у X2 --- */
.topbar .nav-auth-btn.is-auth{
  color: #121214;
  /* многоступенчатый градиент + бегущий блик */
  background:
    linear-gradient(135deg,
      #7a5c00 0%, #ffd700 18%, #fff4b3 32%, #ffd700 46%,
      #ffea80 60%, #b38400 74%, #ffd700 88%, #7a5c00 100%);
  background-size: 200% 100%;
  box-shadow:
    0 0 0 1px rgba(255,215,99,.5) inset,
    0 10px 26px rgba(229,185,58,.35),
    0 0 24px rgba(246,211,106,.25);
  animation: qcoinShine 6s linear infinite, qcoinGlow 2.8s ease-in-out infinite;
}
.topbar .nav-auth-btn.is-auth:hover{
  /* при ховере чуть ярче, анимации продолжают работать */
  filter: brightness(1.05) saturate(110%);
}

/* блик «катается» по градиенту */
@keyframes qcoinShine{
  0%   { background-position:   0% 0; }
  100% { background-position: 100% 0; }
}
/* мягкое дыхание свечения */
@keyframes qcoinGlow{
  0%,100%{
    box-shadow:
      0 0 0 1px rgba(255,215,99,.50) inset,
      0 10px 26px rgba(229,185,58,.35),
      0 0 18px rgba(246,211,106,.25);
    filter: brightness(1) saturate(100%);
  }
  50%{
    box-shadow:
      0 0 0 1px rgba(255,230,130,.65) inset,
      0 12px 32px rgba(236,190,66,.42),
      0 0 28px rgba(255,217,118,.35);
    filter: brightness(1.12) saturate(115%);
  }
}

/* фокус-кольцо для клавиатуры */
.topbar .nav-auth-btn:focus-visible{
  outline: none;
  box-shadow:
    0 0 0 2px rgba(58,123,255,.85),
    0 0 0 4px rgba(58,123,255,.35);
}

/* disabled (на будущее, если вдруг) */
.topbar .nav-auth-btn:disabled,
.topbar .nav-auth-btn.disabled{
  opacity:.6;
  cursor: not-allowed;
  filter: grayscale(.2);
}

/* компакт на узких экранах, чтобы не ломать навигацию */
@media (max-width: 480px){
  .topbar .nav-auth-btn{
    --btn-h: 30px;
    --pad-x: 10px;
    font-size: 13px;
    margin-left: 8px;
  }
}

/* ==== Auth button in TopBar ========================================= */
.topbar .nav-auth-btnlink-tg{
  --btn-h: 34px;
  --pad-x: 12px;
  --radius: 999px;
  --ring: 0 0 0 1px rgb(9, 244, 217) inset;

  display: inline-flex;
  align-items: center;
  justify-content: center;

  height: var(--btn-h);
  padding: 0 var(--pad-x);
  margin-left: 10px;

  font-size: 14px;
  font-weight: 600;
  line-height: 1;
  letter-spacing: .01em;
  white-space: nowrap;

  border: 0;
  border-radius: var(--radius);
  cursor: pointer;
  user-select: none;

  transition: transform .08s ease, box-shadow .2s ease, background-color .2s ease, color .2s ease, opacity .2s ease;

  /* базовая «стеклянная» кнопка (оставлено без изменений) */
  color: #e7e7ea;
  background: linear-gradient(180deg, rgb(1, 18, 251), rgba(255,255,255,.02));
  box-shadow: var(--ring), 0 8px 24px rgba(0,0,0,.18);
}
/* Золотая надпись с переливом и свечением */
.qcoinLabel{
  font-size:1.8em; font-weight:900; letter-spacing:.4px;
  background:
    linear-gradient(135deg,
      #7a5c00 0%,
      #ffd700 18%,
      #fff4b3 32%,
      #ffd700 46%,
      #ffea80 60%,
      #b38400 74%,
      #ffd700 88%,
      #7a5c00 100%);
  background-size:200% 100%;
  -webkit-background-clip:text; background-clip:text; color:transparent;
  animation:qcoinShine 6s linear infinite, qcoinGlow 2.8s ease-in-out infinite;
  text-shadow:0 0 .3rem rgba(255,215,0,.35), 0 0 .1rem rgba(255,255,180,.35);
}
@keyframes qcoinShine{ 0%{background-position:0% 50%} 100%{background-position:200% 50%} }
@keyframes qcoinGlow{
  0%{ text-shadow:0 0 .3rem rgba(255,215,0,.35), 0 0 .1rem rgba(255,255,180,.35) }
  50%{ text-shadow:0 0 .9рем rgba(255,215,0,.55), 0 0 .25rem rgba(255,255,190,.55) }
  100%{ text-shadow:0 0 .3rem rgba(255,215,0,.35), 0 0 .1rem rgba(255,255,180,.35) }
}
/* === Global icons after marquee (reused across pages) === */
.ql7-icons-row{
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-evenly;
  gap: 24px;
  flex-wrap: wrap;
  padding: 16px 0 8px;
}

.ql7-icon-link{
  display: inline-block;
  line-height: 0;
  cursor: pointer;
  outline: none;
}

.ql7-click-icon{
  width: var(--ql7-icon-size, 120px);
  height: auto;
  display: block;
  user-select: none;
  pointer-events: none; /* клик ловит ссылка */
  background: transparent;

  /* базовая «парящая» анимация как на главной */
  animation:
    ql7FloatY 3s ease-in-out infinite,
    ql7Glow 2.4s ease-in-out infinite alternate;
}

/* hover/focus: подпрыгивание + усиленное свечение */
.ql7-icon-link:hover .ql7-click-icon,
.ql7-icon-link:focus-visible .ql7-click-icon{
  animation:
    ql7FloatY 3s ease-in-out infinite,
    ql7GlowStrong 1.6s ease-in-out infinite alternate,
    ql7Bounce 0.8s cubic-bezier(0.22, 1, 0.36, 1);
}

/* ——— keyframes (уникальные имена) ——— */
@keyframes ql7FloatY{
  0%   { transform: translateY(0) rotate(0deg); }
  50%  { transform: translateY(-8px) rotate(-2deg); }
  100% { transform: translateY(0) rotate(0deg); }
}

@keyframes ql7Glow{
  0%   { filter: drop-shadow(0 2px 6px rgba(0, 200, 255, 0.18)); }
  100% { filter: drop-shadow(0 10px 22px rgba(0, 200, 255, 0.45)); }
}

@keyframes ql7GlowStrong{
  0%   { filter: drop-shadow(0 4px 10px rgba(0, 200, 255, 0.28)); }
  100% { filter: drop-shadow(0 14px 32px rgba(0, 220, 255, 0.7)); }
}

@keyframes ql7Bounce{
  0%   { transform: translateY(0) scale(1); }
  35%  { transform: translateY(-16px) scale(1.06); }
  60%  { transform: translateY(0) scale(0.98); }
  85%  { transform: translateY(-8px) scale(1.03); }
  100% { transform: translateY(0) scale(1); }
}

/* Доступность */
@media (prefers-reduced-motion: reduce){
  .ql7-click-icon{ animation: none !important; }
}
